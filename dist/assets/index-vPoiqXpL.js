(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();const Aa="modulepreload",Sa=function(e){return"/"+e},gi={},fn=function(t,n,r){let i=Promise.resolve();if(n&&n.length>0){const s=document.getElementsByTagName("link");i=Promise.all(n.map(o=>{if(o=Sa(o),o in gi)return;gi[o]=!0;const c=o.endsWith(".css"),h=c?'[rel="stylesheet"]':"";if(!!r)for(let m=s.length-1;m>=0;m--){const w=s[m];if(w.href===o&&(!c||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${o}"]${h}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":Aa,c||(f.as="script",f.crossOrigin=""),f.href=o,document.head.appendChild(f),c)return new Promise((m,w)=>{f.addEventListener("load",m),f.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${o}`)))})}))}return i.then(()=>t()).catch(s=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=s,window.dispatchEvent(o),!o.defaultPrevented)throw s})},Ia="/assets/day-VMk_ZTTx.png",Na="/assets/gui-e1vkMacm.png",Oa="/assets/normal-qIQv4yVs.png",Ra="/assets/talking-rc68XRvn.png",Da="/assets/normal-uyT4GmoD.png",xa="/assets/talking-RDThLbNT.png",La="/assets/fish-Wxy6U5gG.png",Pa="/assets/fishing-30Qu-yVQ.png",ka="/assets/penguin-L9wOLXZA.png",Ma="/assets/reeling-dfjEAHXH.png";var Cn=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ii(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var Ni={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(h,p,f){this.fn=h,this.context=p,this.once=f||!1}function s(h,p,f,m,w){if(typeof f!="function")throw new TypeError("The listener must be a function");var x=new i(f,m||h,w),K=n?n+p:p;return h._events[K]?h._events[K].fn?h._events[K]=[h._events[K],x]:h._events[K].push(x):(h._events[K]=x,h._eventsCount++),h}function o(h,p){--h._eventsCount===0?h._events=new r:delete h._events[p]}function c(){this._events=new r,this._eventsCount=0}c.prototype.eventNames=function(){var p=[],f,m;if(this._eventsCount===0)return p;for(m in f=this._events)t.call(f,m)&&p.push(n?m.slice(1):m);return Object.getOwnPropertySymbols?p.concat(Object.getOwnPropertySymbols(f)):p},c.prototype.listeners=function(p){var f=n?n+p:p,m=this._events[f];if(!m)return[];if(m.fn)return[m.fn];for(var w=0,x=m.length,K=new Array(x);w<x;w++)K[w]=m[w].fn;return K},c.prototype.listenerCount=function(p){var f=n?n+p:p,m=this._events[f];return m?m.fn?1:m.length:0},c.prototype.emit=function(p,f,m,w,x,K){var B=n?n+p:p;if(!this._events[B])return!1;var R=this._events[B],ce=arguments.length,J,Q;if(R.fn){switch(R.once&&this.removeListener(p,R.fn,void 0,!0),ce){case 1:return R.fn.call(R.context),!0;case 2:return R.fn.call(R.context,f),!0;case 3:return R.fn.call(R.context,f,m),!0;case 4:return R.fn.call(R.context,f,m,w),!0;case 5:return R.fn.call(R.context,f,m,w,x),!0;case 6:return R.fn.call(R.context,f,m,w,x,K),!0}for(Q=1,J=new Array(ce-1);Q<ce;Q++)J[Q-1]=arguments[Q];R.fn.apply(R.context,J)}else{var me=R.length,de;for(Q=0;Q<me;Q++)switch(R[Q].once&&this.removeListener(p,R[Q].fn,void 0,!0),ce){case 1:R[Q].fn.call(R[Q].context);break;case 2:R[Q].fn.call(R[Q].context,f);break;case 3:R[Q].fn.call(R[Q].context,f,m);break;case 4:R[Q].fn.call(R[Q].context,f,m,w);break;default:if(!J)for(de=1,J=new Array(ce-1);de<ce;de++)J[de-1]=arguments[de];R[Q].fn.apply(R[Q].context,J)}}return!0},c.prototype.on=function(p,f,m){return s(this,p,f,m,!1)},c.prototype.once=function(p,f,m){return s(this,p,f,m,!0)},c.prototype.removeListener=function(p,f,m,w){var x=n?n+p:p;if(!this._events[x])return this;if(!f)return o(this,x),this;var K=this._events[x];if(K.fn)K.fn===f&&(!w||K.once)&&(!m||K.context===m)&&o(this,x);else{for(var B=0,R=[],ce=K.length;B<ce;B++)(K[B].fn!==f||w&&!K[B].once||m&&K[B].context!==m)&&R.push(K[B]);R.length?this._events[x]=R.length===1?R[0]:R:o(this,x)}return this},c.prototype.removeAllListeners=function(p){var f;return p?(f=n?n+p:p,this._events[f]&&o(this,f)):(this._events=new r,this._eventsCount=0),this},c.prototype.off=c.prototype.removeListener,c.prototype.addListener=c.prototype.on,c.prefixed=n,c.EventEmitter=c,e.exports=c})(Ni);var Ua=Ni.exports,Ba=Ii(Ua),ie;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function n(i){throw new Error}e.assertNever=n,e.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},e.getValidEnumValues=i=>{const s=e.objectKeys(i).filter(c=>typeof i[i[c]]!="number"),o={};for(const c of s)o[c]=i[c];return e.objectValues(o)},e.objectValues=i=>e.objectKeys(i).map(function(s){return i[s]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},e.find=(i,s)=>{for(const o of i)if(s(o))return o},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function r(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}e.joinValues=r,e.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(ie||(ie={}));var Zr;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Zr||(Zr={}));const L=ie.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),wt=e=>{switch(typeof e){case"undefined":return L.undefined;case"string":return L.string;case"number":return isNaN(e)?L.nan:L.number;case"boolean":return L.boolean;case"function":return L.function;case"bigint":return L.bigint;case"symbol":return L.symbol;case"object":return Array.isArray(e)?L.array:e===null?L.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?L.promise:typeof Map<"u"&&e instanceof Map?L.map:typeof Set<"u"&&e instanceof Set?L.set:typeof Date<"u"&&e instanceof Date?L.date:L.object;default:return L.unknown}},O=ie.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),Za=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:");class Ce extends Error{constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}get errors(){return this.issues}format(t){const n=t||function(s){return s.message},r={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)r._errors.push(n(o));else{let c=r,h=0;for(;h<o.path.length;){const p=o.path[h];h===o.path.length-1?(c[p]=c[p]||{_errors:[]},c[p]._errors.push(n(o))):c[p]=c[p]||{_errors:[]},c=c[p],h++}}};return i(this),r}toString(){return this.message}get message(){return JSON.stringify(this.issues,ie.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const i of this.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(t(i))):r.push(t(i));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}Ce.create=e=>new Ce(e);const dn=(e,t)=>{let n;switch(e.code){case O.invalid_type:e.received===L.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case O.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ie.jsonStringifyReplacer)}`;break;case O.unrecognized_keys:n=`Unrecognized key(s) in object: ${ie.joinValues(e.keys,", ")}`;break;case O.invalid_union:n="Invalid input";break;case O.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ie.joinValues(e.options)}`;break;case O.invalid_enum_value:n=`Invalid enum value. Expected ${ie.joinValues(e.options)}, received '${e.received}'`;break;case O.invalid_arguments:n="Invalid function arguments";break;case O.invalid_return_type:n="Invalid function return type";break;case O.invalid_date:n="Invalid date";break;case O.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ie.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case O.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case O.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case O.custom:n="Invalid input";break;case O.invalid_intersection_types:n="Intersection results could not be merged";break;case O.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case O.not_finite:n="Number must be finite";break;default:n=t.defaultError,ie.assertNever(e)}return{message:n}};let Oi=dn;function Ga(e){Oi=e}function rr(){return Oi}const ir=e=>{const{data:t,path:n,errorMaps:r,issueData:i}=e,s=[...n,...i.path||[]],o={...i,path:s};let c="";const h=r.filter(p=>!!p).slice().reverse();for(const p of h)c=p(o,{data:t,defaultError:c}).message;return{...i,path:s,message:i.message||c}},Va=[];function P(e,t){const n=ir({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,rr(),dn].filter(r=>!!r)});e.common.issues.push(n)}class De{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const i of n){if(i.status==="aborted")return X;i.status==="dirty"&&t.dirty(),r.push(i.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const i of n)r.push({key:await i.key,value:await i.value});return De.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const i of n){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return X;s.status==="dirty"&&t.dirty(),o.status==="dirty"&&t.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(r[s.value]=o.value)}return{status:t.value,value:r}}}const X=Object.freeze({status:"aborted"}),Ri=e=>({status:"dirty",value:e}),Me=e=>({status:"valid",value:e}),Gr=e=>e.status==="aborted",Vr=e=>e.status==="dirty",hn=e=>e.status==="valid",sr=e=>typeof Promise<"u"&&e instanceof Promise;var V;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(V||(V={}));class it{constructor(t,n,r,i){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mi=(e,t)=>{if(hn(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new Ce(e.common.issues);return this._error=n,this._error}}};function z(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:i}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(o,c)=>o.code!=="invalid_type"?{message:c.defaultError}:typeof c.data>"u"?{message:r??c.defaultError}:{message:n??c.defaultError},description:i}}class W{constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(t){return wt(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:wt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new De,ctx:{common:t.parent.common,data:t.data,parsedType:wt(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(sr(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){var r;const i={common:{issues:[],async:(r=n==null?void 0:n.async)!==null&&r!==void 0?r:!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wt(t)},s=this._parseSync({data:t,path:i.path,parent:i});return mi(i,s)}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:wt(t)},i=this._parse({data:t,path:r.path,parent:r}),s=await(sr(i)?i:Promise.resolve(i));return mi(r,s)}refine(t,n){const r=i=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(i):n;return this._refinement((i,s)=>{const o=t(i),c=()=>s.addIssue({code:O.custom,...r(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(h=>h?!0:(c(),!1)):o?!0:(c(),!1)})}refinement(t,n){return this._refinement((r,i)=>t(r)?!0:(i.addIssue(typeof n=="function"?n(r,i):n),!1))}_refinement(t){return new et({schema:this,typeName:q.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}optional(){return _t.create(this,this._def)}nullable(){return jt.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Qe.create(this,this._def)}promise(){return Jt.create(this,this._def)}or(t){return vn.create([this,t],this._def)}and(t){return yn.create(this,t,this._def)}transform(t){return new et({...z(this._def),schema:this,typeName:q.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new An({...z(this._def),innerType:this,defaultValue:n,typeName:q.ZodDefault})}brand(){return new xi({typeName:q.ZodBranded,type:this,...z(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new ur({...z(this._def),innerType:this,catchValue:n,typeName:q.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return Nn.create(this,t)}readonly(){return fr.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ha=/^c[^\s-]{8,}$/i,ja=/^[a-z][a-z0-9]*$/,qa=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ka=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Fa=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Ya="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let Pr;const $a=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,Xa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,za=e=>e.precision?e.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${e.precision}}Z$`):e.precision===0?e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):e.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function Wa(e,t){return!!((t==="v4"||!t)&&$a.test(e)||(t==="v6"||!t)&&Xa.test(e))}class Je extends W{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==L.string){const s=this._getOrReturnCtx(t);return P(s,{code:O.invalid_type,expected:L.string,received:s.parsedType}),X}const r=new De;let i;for(const s of this._def.checks)if(s.kind==="min")t.data.length<s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="max")t.data.length>s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),r.dirty());else if(s.kind==="length"){const o=t.data.length>s.value,c=t.data.length<s.value;(o||c)&&(i=this._getOrReturnCtx(t,i),o?P(i,{code:O.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):c&&P(i,{code:O.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),r.dirty())}else if(s.kind==="email")Fa.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"email",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="emoji")Pr||(Pr=new RegExp(Ya,"u")),Pr.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"emoji",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="uuid")Ka.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"uuid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid")Ha.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="cuid2")ja.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"cuid2",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="ulid")qa.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ulid",code:O.invalid_string,message:s.message}),r.dirty());else if(s.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),P(i,{validation:"url",code:O.invalid_string,message:s.message}),r.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"regex",code:O.invalid_string,message:s.message}),r.dirty())):s.kind==="trim"?t.data=t.data.trim():s.kind==="includes"?t.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),r.dirty()):s.kind==="toLowerCase"?t.data=t.data.toLowerCase():s.kind==="toUpperCase"?t.data=t.data.toUpperCase():s.kind==="startsWith"?t.data.startsWith(s.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{startsWith:s.value},message:s.message}),r.dirty()):s.kind==="endsWith"?t.data.endsWith(s.value)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:{endsWith:s.value},message:s.message}),r.dirty()):s.kind==="datetime"?za(s).test(t.data)||(i=this._getOrReturnCtx(t,i),P(i,{code:O.invalid_string,validation:"datetime",message:s.message}),r.dirty()):s.kind==="ip"?Wa(t.data,s.version)||(i=this._getOrReturnCtx(t,i),P(i,{validation:"ip",code:O.invalid_string,message:s.message}),r.dirty()):ie.assertNever(s);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(i=>t.test(i),{validation:n,code:O.invalid_string,...V.errToObj(r)})}_addCheck(t){return new Je({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...V.errToObj(t)})}url(t){return this._addCheck({kind:"url",...V.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...V.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...V.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...V.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...V.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...V.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...V.errToObj(t)})}datetime(t){var n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(n=t==null?void 0:t.offset)!==null&&n!==void 0?n:!1,...V.errToObj(t==null?void 0:t.message)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...V.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...V.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...V.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...V.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...V.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...V.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...V.errToObj(n)})}nonempty(t){return this.min(1,V.errToObj(t))}trim(){return new Je({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new Je({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new Je({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Je.create=e=>{var t;return new Je({checks:[],typeName:q.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};function Ja(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,i=n>r?n:r,s=parseInt(e.toFixed(i).replace(".","")),o=parseInt(t.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class Nt extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==L.number){const s=this._getOrReturnCtx(t);return P(s,{code:O.invalid_type,expected:L.number,received:s.parsedType}),X}let r;const i=new De;for(const s of this._def.checks)s.kind==="int"?ie.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:O.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?Ja(t.data,s.value)!==0&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_finite,message:s.message}),i.dirty()):ie.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,i){return new Nt({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(t){return new Nt({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:V.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:V.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:V.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:V.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ie.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}Nt.create=e=>new Nt({checks:[],typeName:q.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});class Ot extends W{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce&&(t.data=BigInt(t.data)),this._getType(t)!==L.bigint){const s=this._getOrReturnCtx(t);return P(s,{code:O.invalid_type,expected:L.bigint,received:s.parsedType}),X}let r;const i=new De;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?t.data<s.value:t.data<=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?t.data>s.value:t.data>=s.value)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?t.data%s.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),P(r,{code:O.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):ie.assertNever(s);return{status:i.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,V.toString(n))}gt(t,n){return this.setLimit("min",t,!1,V.toString(n))}lte(t,n){return this.setLimit("max",t,!0,V.toString(n))}lt(t,n){return this.setLimit("max",t,!1,V.toString(n))}setLimit(t,n,r,i){return new Ot({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:V.toString(i)}]})}_addCheck(t){return new Ot({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:V.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:V.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:V.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:V.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:V.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}Ot.create=e=>{var t;return new Ot({checks:[],typeName:q.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...z(e)})};class gn extends W{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==L.boolean){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.boolean,received:r.parsedType}),X}return Me(t.data)}}gn.create=e=>new gn({typeName:q.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...z(e)});class Vt extends W{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==L.date){const s=this._getOrReturnCtx(t);return P(s,{code:O.invalid_type,expected:L.date,received:s.parsedType}),X}if(isNaN(t.data.getTime())){const s=this._getOrReturnCtx(t);return P(s,{code:O.invalid_date}),X}const r=new De;let i;for(const s of this._def.checks)s.kind==="min"?t.data.getTime()<s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),r.dirty()):s.kind==="max"?t.data.getTime()>s.value&&(i=this._getOrReturnCtx(t,i),P(i,{code:O.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),r.dirty()):ie.assertNever(s);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Vt({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:V.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:V.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Vt.create=e=>new Vt({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:q.ZodDate,...z(e)});class ar extends W{_parse(t){if(this._getType(t)!==L.symbol){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.symbol,received:r.parsedType}),X}return Me(t.data)}}ar.create=e=>new ar({typeName:q.ZodSymbol,...z(e)});class mn extends W{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.undefined,received:r.parsedType}),X}return Me(t.data)}}mn.create=e=>new mn({typeName:q.ZodUndefined,...z(e)});class _n extends W{_parse(t){if(this._getType(t)!==L.null){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.null,received:r.parsedType}),X}return Me(t.data)}}_n.create=e=>new _n({typeName:q.ZodNull,...z(e)});class Wt extends W{constructor(){super(...arguments),this._any=!0}_parse(t){return Me(t.data)}}Wt.create=e=>new Wt({typeName:q.ZodAny,...z(e)});class Zt extends W{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Me(t.data)}}Zt.create=e=>new Zt({typeName:q.ZodUnknown,...z(e)});class yt extends W{_parse(t){const n=this._getOrReturnCtx(t);return P(n,{code:O.invalid_type,expected:L.never,received:n.parsedType}),X}}yt.create=e=>new yt({typeName:q.ZodNever,...z(e)});class or extends W{_parse(t){if(this._getType(t)!==L.undefined){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.void,received:r.parsedType}),X}return Me(t.data)}}or.create=e=>new or({typeName:q.ZodVoid,...z(e)});class Qe extends W{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),i=this._def;if(n.parsedType!==L.array)return P(n,{code:O.invalid_type,expected:L.array,received:n.parsedType}),X;if(i.exactLength!==null){const o=n.data.length>i.exactLength.value,c=n.data.length<i.exactLength.value;(o||c)&&(P(n,{code:o?O.too_big:O.too_small,minimum:c?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),r.dirty())}if(i.minLength!==null&&n.data.length<i.minLength.value&&(P(n,{code:O.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),r.dirty()),i.maxLength!==null&&n.data.length>i.maxLength.value&&(P(n,{code:O.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((o,c)=>i.type._parseAsync(new it(n,o,n.path,c)))).then(o=>De.mergeArray(r,o));const s=[...n.data].map((o,c)=>i.type._parseSync(new it(n,o,n.path,c)));return De.mergeArray(r,s)}get element(){return this._def.type}min(t,n){return new Qe({...this._def,minLength:{value:t,message:V.toString(n)}})}max(t,n){return new Qe({...this._def,maxLength:{value:t,message:V.toString(n)}})}length(t,n){return new Qe({...this._def,exactLength:{value:t,message:V.toString(n)}})}nonempty(t){return this.min(1,t)}}Qe.create=(e,t)=>new Qe({type:e,minLength:null,maxLength:null,exactLength:null,typeName:q.ZodArray,...z(t)});function Xt(e){if(e instanceof ge){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=_t.create(Xt(r))}return new ge({...e._def,shape:()=>t})}else return e instanceof Qe?new Qe({...e._def,type:Xt(e.element)}):e instanceof _t?_t.create(Xt(e.unwrap())):e instanceof jt?jt.create(Xt(e.unwrap())):e instanceof st?st.create(e.items.map(t=>Xt(t))):e}class ge extends W{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ie.objectKeys(t);return this._cached={shape:t,keys:n}}_parse(t){if(this._getType(t)!==L.object){const p=this._getOrReturnCtx(t);return P(p,{code:O.invalid_type,expected:L.object,received:p.parsedType}),X}const{status:r,ctx:i}=this._processInputParams(t),{shape:s,keys:o}=this._getCached(),c=[];if(!(this._def.catchall instanceof yt&&this._def.unknownKeys==="strip"))for(const p in i.data)o.includes(p)||c.push(p);const h=[];for(const p of o){const f=s[p],m=i.data[p];h.push({key:{status:"valid",value:p},value:f._parse(new it(i,m,i.path,p)),alwaysSet:p in i.data})}if(this._def.catchall instanceof yt){const p=this._def.unknownKeys;if(p==="passthrough")for(const f of c)h.push({key:{status:"valid",value:f},value:{status:"valid",value:i.data[f]}});else if(p==="strict")c.length>0&&(P(i,{code:O.unrecognized_keys,keys:c}),r.dirty());else if(p!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const p=this._def.catchall;for(const f of c){const m=i.data[f];h.push({key:{status:"valid",value:f},value:p._parse(new it(i,m,i.path,f)),alwaysSet:f in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const p=[];for(const f of h){const m=await f.key;p.push({key:m,value:await f.value,alwaysSet:f.alwaysSet})}return p}).then(p=>De.mergeObjectSync(r,p)):De.mergeObjectSync(r,h)}get shape(){return this._def.shape()}strict(t){return V.errToObj,new ge({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var i,s,o,c;const h=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,n,r).message)!==null&&o!==void 0?o:r.defaultError;return n.code==="unrecognized_keys"?{message:(c=V.errToObj(t).message)!==null&&c!==void 0?c:h}:{message:h}}}:{}})}strip(){return new ge({...this._def,unknownKeys:"strip"})}passthrough(){return new ge({...this._def,unknownKeys:"passthrough"})}extend(t){return new ge({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new ge({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:q.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new ge({...this._def,catchall:t})}pick(t){const n={};return ie.objectKeys(t).forEach(r=>{t[r]&&this.shape[r]&&(n[r]=this.shape[r])}),new ge({...this._def,shape:()=>n})}omit(t){const n={};return ie.objectKeys(this.shape).forEach(r=>{t[r]||(n[r]=this.shape[r])}),new ge({...this._def,shape:()=>n})}deepPartial(){return Xt(this)}partial(t){const n={};return ie.objectKeys(this.shape).forEach(r=>{const i=this.shape[r];t&&!t[r]?n[r]=i:n[r]=i.optional()}),new ge({...this._def,shape:()=>n})}required(t){const n={};return ie.objectKeys(this.shape).forEach(r=>{if(t&&!t[r])n[r]=this.shape[r];else{let s=this.shape[r];for(;s instanceof _t;)s=s._def.innerType;n[r]=s}}),new ge({...this._def,shape:()=>n})}keyof(){return Di(ie.objectKeys(this.shape))}}ge.create=(e,t)=>new ge({shape:()=>e,unknownKeys:"strip",catchall:yt.create(),typeName:q.ZodObject,...z(t)});ge.strictCreate=(e,t)=>new ge({shape:()=>e,unknownKeys:"strict",catchall:yt.create(),typeName:q.ZodObject,...z(t)});ge.lazycreate=(e,t)=>new ge({shape:e,unknownKeys:"strip",catchall:yt.create(),typeName:q.ZodObject,...z(t)});class vn extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function i(s){for(const c of s)if(c.result.status==="valid")return c.result;for(const c of s)if(c.result.status==="dirty")return n.common.issues.push(...c.ctx.common.issues),c.result;const o=s.map(c=>new Ce(c.ctx.common.issues));return P(n,{code:O.invalid_union,unionErrors:o}),X}if(n.common.async)return Promise.all(r.map(async s=>{const o={...n,common:{...n.common,issues:[]},parent:null};return{result:await s._parseAsync({data:n.data,path:n.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const h of r){const p={...n,common:{...n.common,issues:[]},parent:null},f=h._parseSync({data:n.data,path:n.path,parent:p});if(f.status==="valid")return f;f.status==="dirty"&&!s&&(s={result:f,ctx:p}),p.common.issues.length&&o.push(p.common.issues)}if(s)return n.common.issues.push(...s.ctx.common.issues),s.result;const c=o.map(h=>new Ce(h));return P(n,{code:O.invalid_union,unionErrors:c}),X}}get options(){return this._def.options}}vn.create=(e,t)=>new vn({options:e,typeName:q.ZodUnion,...z(t)});const nr=e=>e instanceof Tn?nr(e.schema):e instanceof et?nr(e.innerType()):e instanceof bn?[e.value]:e instanceof Rt?e.options:e instanceof wn?Object.keys(e.enum):e instanceof An?nr(e._def.innerType):e instanceof mn?[void 0]:e instanceof _n?[null]:null;class hr extends W{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.object)return P(n,{code:O.invalid_type,expected:L.object,received:n.parsedType}),X;const r=this.discriminator,i=n.data[r],s=this.optionsMap.get(i);return s?n.common.async?s._parseAsync({data:n.data,path:n.path,parent:n}):s._parseSync({data:n.data,path:n.path,parent:n}):(P(n,{code:O.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),X)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const i=new Map;for(const s of n){const o=nr(s.shape[t]);if(!o)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const c of o){if(i.has(c))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(c)}`);i.set(c,s)}}return new hr({typeName:q.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:i,...z(r)})}}function Hr(e,t){const n=wt(e),r=wt(t);if(e===t)return{valid:!0,data:e};if(n===L.object&&r===L.object){const i=ie.objectKeys(t),s=ie.objectKeys(e).filter(c=>i.indexOf(c)!==-1),o={...e,...t};for(const c of s){const h=Hr(e[c],t[c]);if(!h.valid)return{valid:!1};o[c]=h.data}return{valid:!0,data:o}}else if(n===L.array&&r===L.array){if(e.length!==t.length)return{valid:!1};const i=[];for(let s=0;s<e.length;s++){const o=e[s],c=t[s],h=Hr(o,c);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return n===L.date&&r===L.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class yn extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=(s,o)=>{if(Gr(s)||Gr(o))return X;const c=Hr(s.value,o.value);return c.valid?((Vr(s)||Vr(o))&&n.dirty(),{status:n.value,value:c.data}):(P(r,{code:O.invalid_intersection_types}),X)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}yn.create=(e,t,n)=>new yn({left:e,right:t,typeName:q.ZodIntersection,...z(n)});class st extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.array)return P(r,{code:O.invalid_type,expected:L.array,received:r.parsedType}),X;if(r.data.length<this._def.items.length)return P(r,{code:O.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),X;!this._def.rest&&r.data.length>this._def.items.length&&(P(r,{code:O.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const s=[...r.data].map((o,c)=>{const h=this._def.items[c]||this._def.rest;return h?h._parse(new it(r,o,r.path,c)):null}).filter(o=>!!o);return r.common.async?Promise.all(s).then(o=>De.mergeArray(n,o)):De.mergeArray(n,s)}get items(){return this._def.items}rest(t){return new st({...this._def,rest:t})}}st.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new st({items:e,typeName:q.ZodTuple,rest:null,...z(t)})};class En extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.object)return P(r,{code:O.invalid_type,expected:L.object,received:r.parsedType}),X;const i=[],s=this._def.keyType,o=this._def.valueType;for(const c in r.data)i.push({key:s._parse(new it(r,c,r.path,c)),value:o._parse(new it(r,r.data[c],r.path,c))});return r.common.async?De.mergeObjectAsync(n,i):De.mergeObjectSync(n,i)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof W?new En({keyType:t,valueType:n,typeName:q.ZodRecord,...z(r)}):new En({keyType:Je.create(),valueType:t,typeName:q.ZodRecord,...z(n)})}}class lr extends W{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.map)return P(r,{code:O.invalid_type,expected:L.map,received:r.parsedType}),X;const i=this._def.keyType,s=this._def.valueType,o=[...r.data.entries()].map(([c,h],p)=>({key:i._parse(new it(r,c,r.path,[p,"key"])),value:s._parse(new it(r,h,r.path,[p,"value"]))}));if(r.common.async){const c=new Map;return Promise.resolve().then(async()=>{for(const h of o){const p=await h.key,f=await h.value;if(p.status==="aborted"||f.status==="aborted")return X;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}})}else{const c=new Map;for(const h of o){const p=h.key,f=h.value;if(p.status==="aborted"||f.status==="aborted")return X;(p.status==="dirty"||f.status==="dirty")&&n.dirty(),c.set(p.value,f.value)}return{status:n.value,value:c}}}}lr.create=(e,t,n)=>new lr({valueType:t,keyType:e,typeName:q.ZodMap,...z(n)});class Ht extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==L.set)return P(r,{code:O.invalid_type,expected:L.set,received:r.parsedType}),X;const i=this._def;i.minSize!==null&&r.data.size<i.minSize.value&&(P(r,{code:O.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),n.dirty()),i.maxSize!==null&&r.data.size>i.maxSize.value&&(P(r,{code:O.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),n.dirty());const s=this._def.valueType;function o(h){const p=new Set;for(const f of h){if(f.status==="aborted")return X;f.status==="dirty"&&n.dirty(),p.add(f.value)}return{status:n.value,value:p}}const c=[...r.data.values()].map((h,p)=>s._parse(new it(r,h,r.path,p)));return r.common.async?Promise.all(c).then(h=>o(h)):o(c)}min(t,n){return new Ht({...this._def,minSize:{value:t,message:V.toString(n)}})}max(t,n){return new Ht({...this._def,maxSize:{value:t,message:V.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}Ht.create=(e,t)=>new Ht({valueType:e,minSize:null,maxSize:null,typeName:q.ZodSet,...z(t)});class zt extends W{constructor(){super(...arguments),this.validate=this.implement}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.function)return P(n,{code:O.invalid_type,expected:L.function,received:n.parsedType}),X;function r(c,h){return ir({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rr(),dn].filter(p=>!!p),issueData:{code:O.invalid_arguments,argumentsError:h}})}function i(c,h){return ir({data:c,path:n.path,errorMaps:[n.common.contextualErrorMap,n.schemaErrorMap,rr(),dn].filter(p=>!!p),issueData:{code:O.invalid_return_type,returnTypeError:h}})}const s={errorMap:n.common.contextualErrorMap},o=n.data;if(this._def.returns instanceof Jt){const c=this;return Me(async function(...h){const p=new Ce([]),f=await c._def.args.parseAsync(h,s).catch(x=>{throw p.addIssue(r(h,x)),p}),m=await Reflect.apply(o,this,f);return await c._def.returns._def.type.parseAsync(m,s).catch(x=>{throw p.addIssue(i(m,x)),p})})}else{const c=this;return Me(function(...h){const p=c._def.args.safeParse(h,s);if(!p.success)throw new Ce([r(h,p.error)]);const f=Reflect.apply(o,this,p.data),m=c._def.returns.safeParse(f,s);if(!m.success)throw new Ce([i(f,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new zt({...this._def,args:st.create(t).rest(Zt.create())})}returns(t){return new zt({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,n,r){return new zt({args:t||st.create([]).rest(Zt.create()),returns:n||Zt.create(),typeName:q.ZodFunction,...z(r)})}}class Tn extends W{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}Tn.create=(e,t)=>new Tn({getter:e,typeName:q.ZodLazy,...z(t)});class bn extends W{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return P(n,{received:n.data,code:O.invalid_literal,expected:this._def.value}),X}return{status:"valid",value:t.data}}get value(){return this._def.value}}bn.create=(e,t)=>new bn({value:e,typeName:q.ZodLiteral,...z(t)});function Di(e,t){return new Rt({values:e,typeName:q.ZodEnum,...z(t)})}class Rt extends W{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{expected:ie.joinValues(r),received:n.parsedType,code:O.invalid_type}),X}if(this._def.values.indexOf(t.data)===-1){const n=this._getOrReturnCtx(t),r=this._def.values;return P(n,{received:n.data,code:O.invalid_enum_value,options:r}),X}return Me(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t){return Rt.create(t)}exclude(t){return Rt.create(this.options.filter(n=>!t.includes(n)))}}Rt.create=Di;class wn extends W{_parse(t){const n=ie.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==L.string&&r.parsedType!==L.number){const i=ie.objectValues(n);return P(r,{expected:ie.joinValues(i),received:r.parsedType,code:O.invalid_type}),X}if(n.indexOf(t.data)===-1){const i=ie.objectValues(n);return P(r,{received:r.data,code:O.invalid_enum_value,options:i}),X}return Me(t.data)}get enum(){return this._def.values}}wn.create=(e,t)=>new wn({values:e,typeName:q.ZodNativeEnum,...z(t)});class Jt extends W{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==L.promise&&n.common.async===!1)return P(n,{code:O.invalid_type,expected:L.promise,received:n.parsedType}),X;const r=n.parsedType===L.promise?n.data:Promise.resolve(n.data);return Me(r.then(i=>this._def.type.parseAsync(i,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Jt.create=(e,t)=>new Jt({type:e,typeName:q.ZodPromise,...z(t)});class et extends W{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===q.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),i=this._def.effect||null,s={addIssue:o=>{P(r,o),o.fatal?n.abort():n.dirty()},get path(){return r.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(r.data,s);return r.common.issues.length?{status:"dirty",value:r.data}:r.common.async?Promise.resolve(o).then(c=>this._def.schema._parseAsync({data:c,path:r.path,parent:r})):this._def.schema._parseSync({data:o,path:r.path,parent:r})}if(i.type==="refinement"){const o=c=>{const h=i.refinement(c,s);if(r.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return c};if(r.common.async===!1){const c=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),o(c.value),{status:n.value,value:c.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(c=>c.status==="aborted"?X:(c.status==="dirty"&&n.dirty(),o(c.value).then(()=>({status:n.value,value:c.value}))))}if(i.type==="transform")if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!hn(o))return o;const c=i.transform(o.value,s);if(c instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:c}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>hn(o)?Promise.resolve(i.transform(o.value,s)).then(c=>({status:n.value,value:c})):o);ie.assertNever(i)}}et.create=(e,t,n)=>new et({schema:e,typeName:q.ZodEffects,effect:t,...z(n)});et.createWithPreprocess=(e,t,n)=>new et({schema:t,effect:{type:"preprocess",transform:e},typeName:q.ZodEffects,...z(n)});class _t extends W{_parse(t){return this._getType(t)===L.undefined?Me(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}_t.create=(e,t)=>new _t({innerType:e,typeName:q.ZodOptional,...z(t)});class jt extends W{_parse(t){return this._getType(t)===L.null?Me(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}jt.create=(e,t)=>new jt({innerType:e,typeName:q.ZodNullable,...z(t)});class An extends W{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===L.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}An.create=(e,t)=>new An({innerType:e,typeName:q.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...z(t)});class ur extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},i=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return sr(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ce(r.common.issues)},input:r.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ce(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}ur.create=(e,t)=>new ur({innerType:e,typeName:q.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...z(t)});class cr extends W{_parse(t){if(this._getType(t)!==L.nan){const r=this._getOrReturnCtx(t);return P(r,{code:O.invalid_type,expected:L.nan,received:r.parsedType}),X}return{status:"valid",value:t.data}}}cr.create=e=>new cr({typeName:q.ZodNaN,...z(e)});const Ca=Symbol("zod_brand");class xi extends W{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class Nn extends W{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?X:s.status==="dirty"?(n.dirty(),Ri(s.value)):this._def.out._parseAsync({data:s.value,path:r.path,parent:r})})();{const i=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return i.status==="aborted"?X:i.status==="dirty"?(n.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:r.path,parent:r})}}static create(t,n){return new Nn({in:t,out:n,typeName:q.ZodPipeline})}}class fr extends W{_parse(t){const n=this._def.innerType._parse(t);return hn(n)&&(n.value=Object.freeze(n.value)),n}}fr.create=(e,t)=>new fr({innerType:e,typeName:q.ZodReadonly,...z(t)});const $r=(e,t={},n)=>e?Wt.create().superRefine((r,i)=>{var s,o;if(!e(r)){const c=typeof t=="function"?t(r):typeof t=="string"?{message:t}:t,h=(o=(s=c.fatal)!==null&&s!==void 0?s:n)!==null&&o!==void 0?o:!0,p=typeof c=="string"?{message:c}:c;i.addIssue({code:"custom",...p,fatal:h})}}):Wt.create(),Qa={object:ge.lazycreate};var q;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(q||(q={}));const eo=(e,t={message:`Input not instance of ${e.name}`})=>$r(n=>n instanceof e,t),y=Je.create,Z=Nt.create,to=cr.create,Li=Ot.create,Y=gn.create,no=Vt.create,ro=ar.create,io=mn.create,Xr=_n.create,so=Wt.create,Sn=Zt.create,ao=yt.create,oo=or.create,te=Qe.create,D=ge.create,lo=ge.strictCreate,zr=vn.create,uo=hr.create,co=yn.create,fo=st.create,po=En.create,ho=lr.create,go=Ht.create,mo=zt.create,_o=Tn.create,Ee=bn.create,vo=Rt.create,Qt=wn.create,yo=Jt.create,_i=et.create,Pi=_t.create,Eo=jt.create,ki=et.createWithPreprocess,To=Nn.create,bo=()=>y().optional(),wo=()=>Z().optional(),Ao=()=>Y().optional(),So={string:e=>Je.create({...e,coerce:!0}),number:e=>Nt.create({...e,coerce:!0}),boolean:e=>gn.create({...e,coerce:!0}),bigint:e=>Ot.create({...e,coerce:!0}),date:e=>Vt.create({...e,coerce:!0})},Io=X;var M=Object.freeze({__proto__:null,defaultErrorMap:dn,setErrorMap:Ga,getErrorMap:rr,makeIssue:ir,EMPTY_PATH:Va,addIssueToContext:P,ParseStatus:De,INVALID:X,DIRTY:Ri,OK:Me,isAborted:Gr,isDirty:Vr,isValid:hn,isAsync:sr,get util(){return ie},get objectUtil(){return Zr},ZodParsedType:L,getParsedType:wt,ZodType:W,ZodString:Je,ZodNumber:Nt,ZodBigInt:Ot,ZodBoolean:gn,ZodDate:Vt,ZodSymbol:ar,ZodUndefined:mn,ZodNull:_n,ZodAny:Wt,ZodUnknown:Zt,ZodNever:yt,ZodVoid:or,ZodArray:Qe,ZodObject:ge,ZodUnion:vn,ZodDiscriminatedUnion:hr,ZodIntersection:yn,ZodTuple:st,ZodRecord:En,ZodMap:lr,ZodSet:Ht,ZodFunction:zt,ZodLazy:Tn,ZodLiteral:bn,ZodEnum:Rt,ZodNativeEnum:wn,ZodPromise:Jt,ZodEffects:et,ZodTransformer:et,ZodOptional:_t,ZodNullable:jt,ZodDefault:An,ZodCatch:ur,ZodNaN:cr,BRAND:Ca,ZodBranded:xi,ZodPipeline:Nn,ZodReadonly:fr,custom:$r,Schema:W,ZodSchema:W,late:Qa,get ZodFirstPartyTypeKind(){return q},coerce:So,any:so,array:te,bigint:Li,boolean:Y,date:no,discriminatedUnion:uo,effect:_i,enum:vo,function:mo,instanceof:eo,intersection:co,lazy:_o,literal:Ee,map:ho,nan:to,nativeEnum:Qt,never:ao,null:Xr,nullable:Eo,number:Z,object:D,oboolean:Ao,onumber:wo,optional:Pi,ostring:bo,pipeline:To,preprocess:ki,promise:yo,record:po,set:go,strictObject:lo,string:y,symbol:ro,transformer:_i,tuple:fo,undefined:io,union:zr,unknown:Sn,void:oo,NEVER:Io,ZodIssueCode:O,quotelessJson:Za,ZodError:Ce}),Mi={exports:{}};(function(e){var t=function(n){var r=1e7,i=7,s=9007199254740992,o=K(s),c="0123456789abcdefghijklmnopqrstuvwxyz",h=typeof BigInt=="function";function p(a,u,g,v){return typeof a>"u"?p[0]:typeof u<"u"?+u==10&&!g?j(a):Zn(a,u,g,v):j(a)}function f(a,u){this.value=a,this.sign=u,this.isSmall=!1}f.prototype=Object.create(p.prototype);function m(a){this.value=a,this.sign=a<0,this.isSmall=!0}m.prototype=Object.create(p.prototype);function w(a){this.value=a}w.prototype=Object.create(p.prototype);function x(a){return-s<a&&a<s}function K(a){return a<1e7?[a]:a<1e14?[a%1e7,Math.floor(a/1e7)]:[a%1e7,Math.floor(a/1e7)%1e7,Math.floor(a/1e14)]}function B(a){R(a);var u=a.length;if(u<4&&lt(a,o)<0)switch(u){case 0:return 0;case 1:return a[0];case 2:return a[0]+a[1]*r;default:return a[0]+(a[1]+a[2]*r)*r}return a}function R(a){for(var u=a.length;a[--u]===0;);a.length=u+1}function ce(a){for(var u=new Array(a),g=-1;++g<a;)u[g]=0;return u}function J(a){return a>0?Math.floor(a):Math.ceil(a)}function Q(a,u){var g=a.length,v=u.length,T=new Array(g),E=0,A=r,S,I;for(I=0;I<v;I++)S=a[I]+u[I]+E,E=S>=A?1:0,T[I]=S-E*A;for(;I<g;)S=a[I]+E,E=S===A?1:0,T[I++]=S-E*A;return E>0&&T.push(E),T}function me(a,u){return a.length>=u.length?Q(a,u):Q(u,a)}function de(a,u){var g=a.length,v=new Array(g),T=r,E,A;for(A=0;A<g;A++)E=a[A]-T+u,u=Math.floor(E/T),v[A]=E-u*T,u+=1;for(;u>0;)v[A++]=u%T,u=Math.floor(u/T);return v}f.prototype.add=function(a){var u=j(a);if(this.sign!==u.sign)return this.subtract(u.negate());var g=this.value,v=u.value;return u.isSmall?new f(de(g,Math.abs(v)),this.sign):new f(me(g,v),this.sign)},f.prototype.plus=f.prototype.add,m.prototype.add=function(a){var u=j(a),g=this.value;if(g<0!==u.sign)return this.subtract(u.negate());var v=u.value;if(u.isSmall){if(x(g+v))return new m(g+v);v=K(Math.abs(v))}return new f(de(v,Math.abs(g)),g<0)},m.prototype.plus=m.prototype.add,w.prototype.add=function(a){return new w(this.value+j(a).value)},w.prototype.plus=w.prototype.add;function Ue(a,u){var g=a.length,v=u.length,T=new Array(g),E=0,A=r,S,I;for(S=0;S<v;S++)I=a[S]-E-u[S],I<0?(I+=A,E=1):E=0,T[S]=I;for(S=v;S<g;S++){if(I=a[S]-E,I<0)I+=A;else{T[S++]=I;break}T[S]=I}for(;S<g;S++)T[S]=a[S];return R(T),T}function Ae(a,u,g){var v;return lt(a,u)>=0?v=Ue(a,u):(v=Ue(u,a),g=!g),v=B(v),typeof v=="number"?(g&&(v=-v),new m(v)):new f(v,g)}function Ve(a,u,g){var v=a.length,T=new Array(v),E=-u,A=r,S,I;for(S=0;S<v;S++)I=a[S]+E,E=Math.floor(I/A),I%=A,T[S]=I<0?I+A:I;return T=B(T),typeof T=="number"?(g&&(T=-T),new m(T)):new f(T,g)}f.prototype.subtract=function(a){var u=j(a);if(this.sign!==u.sign)return this.add(u.negate());var g=this.value,v=u.value;return u.isSmall?Ve(g,Math.abs(v),this.sign):Ae(g,v,this.sign)},f.prototype.minus=f.prototype.subtract,m.prototype.subtract=function(a){var u=j(a),g=this.value;if(g<0!==u.sign)return this.add(u.negate());var v=u.value;return u.isSmall?new m(g-v):Ve(v,Math.abs(g),g>=0)},m.prototype.minus=m.prototype.subtract,w.prototype.subtract=function(a){return new w(this.value-j(a).value)},w.prototype.minus=w.prototype.subtract,f.prototype.negate=function(){return new f(this.value,!this.sign)},m.prototype.negate=function(){var a=this.sign,u=new m(-this.value);return u.sign=!a,u},w.prototype.negate=function(){return new w(-this.value)},f.prototype.abs=function(){return new f(this.value,!1)},m.prototype.abs=function(){return new m(Math.abs(this.value))},w.prototype.abs=function(){return new w(this.value>=0?this.value:-this.value)};function $e(a,u){var g=a.length,v=u.length,T=g+v,E=ce(T),A=r,S,I,H,ee,F;for(H=0;H<g;++H){ee=a[H];for(var ne=0;ne<v;++ne)F=u[ne],S=ee*F+E[H+ne],I=Math.floor(S/A),E[H+ne]=S-I*A,E[H+ne+1]+=I}return R(E),E}function je(a,u){var g=a.length,v=new Array(g),T=r,E=0,A,S;for(S=0;S<g;S++)A=a[S]*u+E,E=Math.floor(A/T),v[S]=A-E*T;for(;E>0;)v[S++]=E%T,E=Math.floor(E/T);return v}function Le(a,u){for(var g=[];u-- >0;)g.push(0);return g.concat(a)}function le(a,u){var g=Math.max(a.length,u.length);if(g<=30)return $e(a,u);g=Math.ceil(g/2);var v=a.slice(g),T=a.slice(0,g),E=u.slice(g),A=u.slice(0,g),S=le(T,A),I=le(v,E),H=le(me(T,v),me(A,E)),ee=me(me(S,Le(Ue(Ue(H,S),I),g)),Le(I,2*g));return R(ee),ee}function vr(a,u){return-.012*a-.012*u+15e-6*a*u>0}f.prototype.multiply=function(a){var u=j(a),g=this.value,v=u.value,T=this.sign!==u.sign,E;if(u.isSmall){if(v===0)return p[0];if(v===1)return this;if(v===-1)return this.negate();if(E=Math.abs(v),E<r)return new f(je(g,E),T);v=K(E)}return vr(g.length,v.length)?new f(le(g,v),T):new f($e(g,v),T)},f.prototype.times=f.prototype.multiply;function Rn(a,u,g){return a<r?new f(je(u,a),g):new f($e(u,K(a)),g)}m.prototype._multiplyBySmall=function(a){return x(a.value*this.value)?new m(a.value*this.value):Rn(Math.abs(a.value),K(Math.abs(this.value)),this.sign!==a.sign)},f.prototype._multiplyBySmall=function(a){return a.value===0?p[0]:a.value===1?this:a.value===-1?this.negate():Rn(Math.abs(a.value),this.value,this.sign!==a.sign)},m.prototype.multiply=function(a){return j(a)._multiplyBySmall(this)},m.prototype.times=m.prototype.multiply,w.prototype.multiply=function(a){return new w(this.value*j(a).value)},w.prototype.times=w.prototype.multiply;function Dn(a){var u=a.length,g=ce(u+u),v=r,T,E,A,S,I;for(A=0;A<u;A++){S=a[A],E=0-S*S;for(var H=A;H<u;H++)I=a[H],T=2*(S*I)+g[A+H]+E,E=Math.floor(T/v),g[A+H]=T-E*v;g[A+u]=E}return R(g),g}f.prototype.square=function(){return new f(Dn(this.value),!1)},m.prototype.square=function(){var a=this.value*this.value;return x(a)?new m(a):new f(Dn(K(Math.abs(this.value))),!1)},w.prototype.square=function(a){return new w(this.value*this.value)};function yr(a,u){var g=a.length,v=u.length,T=r,E=ce(u.length),A=u[v-1],S=Math.ceil(T/(2*A)),I=je(a,S),H=je(u,S),ee,F,ne,Pe,Se,on,ln;for(I.length<=g&&I.push(0),H.push(0),A=H[v-1],F=g-v;F>=0;F--){for(ee=T-1,I[F+v]!==A&&(ee=Math.floor((I[F+v]*T+I[F+v-1])/A)),ne=0,Pe=0,on=H.length,Se=0;Se<on;Se++)ne+=ee*H[Se],ln=Math.floor(ne/T),Pe+=I[F+Se]-(ne-ln*T),ne=ln,Pe<0?(I[F+Se]=Pe+T,Pe=-1):(I[F+Se]=Pe,Pe=0);for(;Pe!==0;){for(ee-=1,ne=0,Se=0;Se<on;Se++)ne+=I[F+Se]-T+H[Se],ne<0?(I[F+Se]=ne+T,ne=0):(I[F+Se]=ne,ne=1);Pe+=ne}E[F]=ee}return I=xn(I,S)[0],[B(E),B(I)]}function Er(a,u){for(var g=a.length,v=u.length,T=[],E=[],A=r,S,I,H,ee,F;g;){if(E.unshift(a[--g]),R(E),lt(E,u)<0){T.push(0);continue}I=E.length,H=E[I-1]*A+E[I-2],ee=u[v-1]*A+u[v-2],I>v&&(H=(H+1)*A),S=Math.ceil(H/ee);do{if(F=je(u,S),lt(F,E)<=0)break;S--}while(S);T.push(S),E=Ue(E,F)}return T.reverse(),[B(T),B(E)]}function xn(a,u){var g=a.length,v=ce(g),T=r,E,A,S,I;for(S=0,E=g-1;E>=0;--E)I=S*T+a[E],A=J(I/u),S=I-A*u,v[E]=A|0;return[v,S|0]}function ot(a,u){var g,v=j(u);if(h)return[new w(a.value/v.value),new w(a.value%v.value)];var T=a.value,E=v.value,A;if(E===0)throw new Error("Cannot divide by zero");if(a.isSmall)return v.isSmall?[new m(J(T/E)),new m(T%E)]:[p[0],a];if(v.isSmall){if(E===1)return[a,p[0]];if(E==-1)return[a.negate(),p[0]];var S=Math.abs(E);if(S<r){g=xn(T,S),A=B(g[0]);var I=g[1];return a.sign&&(I=-I),typeof A=="number"?(a.sign!==v.sign&&(A=-A),[new m(A),new m(I)]):[new f(A,a.sign!==v.sign),new m(I)]}E=K(S)}var H=lt(T,E);if(H===-1)return[p[0],a];if(H===0)return[p[a.sign===v.sign?1:-1],p[0]];T.length+E.length<=200?g=yr(T,E):g=Er(T,E),A=g[0];var ee=a.sign!==v.sign,F=g[1],ne=a.sign;return typeof A=="number"?(ee&&(A=-A),A=new m(A)):A=new f(A,ee),typeof F=="number"?(ne&&(F=-F),F=new m(F)):F=new f(F,ne),[A,F]}f.prototype.divmod=function(a){var u=ot(this,a);return{quotient:u[0],remainder:u[1]}},w.prototype.divmod=m.prototype.divmod=f.prototype.divmod,f.prototype.divide=function(a){return ot(this,a)[0]},w.prototype.over=w.prototype.divide=function(a){return new w(this.value/j(a).value)},m.prototype.over=m.prototype.divide=f.prototype.over=f.prototype.divide,f.prototype.mod=function(a){return ot(this,a)[1]},w.prototype.mod=w.prototype.remainder=function(a){return new w(this.value%j(a).value)},m.prototype.remainder=m.prototype.mod=f.prototype.remainder=f.prototype.mod,f.prototype.pow=function(a){var u=j(a),g=this.value,v=u.value,T,E,A;if(v===0)return p[1];if(g===0)return p[0];if(g===1)return p[1];if(g===-1)return u.isEven()?p[1]:p[-1];if(u.sign)return p[0];if(!u.isSmall)throw new Error("The exponent "+u.toString()+" is too large.");if(this.isSmall&&x(T=Math.pow(g,v)))return new m(J(T));for(E=this,A=p[1];v&!0&&(A=A.times(E),--v),v!==0;)v/=2,E=E.square();return A},m.prototype.pow=f.prototype.pow,w.prototype.pow=function(a){var u=j(a),g=this.value,v=u.value,T=BigInt(0),E=BigInt(1),A=BigInt(2);if(v===T)return p[1];if(g===T)return p[0];if(g===E)return p[1];if(g===BigInt(-1))return u.isEven()?p[1]:p[-1];if(u.isNegative())return new w(T);for(var S=this,I=p[1];(v&E)===E&&(I=I.times(S),--v),v!==T;)v/=A,S=S.square();return I},f.prototype.modPow=function(a,u){if(a=j(a),u=j(u),u.isZero())throw new Error("Cannot take modPow with modulus 0");var g=p[1],v=this.mod(u);for(a.isNegative()&&(a=a.multiply(p[-1]),v=v.modInv(u));a.isPositive();){if(v.isZero())return p[0];a.isOdd()&&(g=g.multiply(v).mod(u)),a=a.divide(2),v=v.square().mod(u)}return g},w.prototype.modPow=m.prototype.modPow=f.prototype.modPow;function lt(a,u){if(a.length!==u.length)return a.length>u.length?1:-1;for(var g=a.length-1;g>=0;g--)if(a[g]!==u[g])return a[g]>u[g]?1:-1;return 0}f.prototype.compareAbs=function(a){var u=j(a),g=this.value,v=u.value;return u.isSmall?1:lt(g,v)},m.prototype.compareAbs=function(a){var u=j(a),g=Math.abs(this.value),v=u.value;return u.isSmall?(v=Math.abs(v),g===v?0:g>v?1:-1):-1},w.prototype.compareAbs=function(a){var u=this.value,g=j(a).value;return u=u>=0?u:-u,g=g>=0?g:-g,u===g?0:u>g?1:-1},f.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var u=j(a),g=this.value,v=u.value;return this.sign!==u.sign?u.sign?1:-1:u.isSmall?this.sign?-1:1:lt(g,v)*(this.sign?-1:1)},f.prototype.compareTo=f.prototype.compare,m.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var u=j(a),g=this.value,v=u.value;return u.isSmall?g==v?0:g>v?1:-1:g<0!==u.sign?g<0?-1:1:g<0?1:-1},m.prototype.compareTo=m.prototype.compare,w.prototype.compare=function(a){if(a===1/0)return-1;if(a===-1/0)return 1;var u=this.value,g=j(a).value;return u===g?0:u>g?1:-1},w.prototype.compareTo=w.prototype.compare,f.prototype.equals=function(a){return this.compare(a)===0},w.prototype.eq=w.prototype.equals=m.prototype.eq=m.prototype.equals=f.prototype.eq=f.prototype.equals,f.prototype.notEquals=function(a){return this.compare(a)!==0},w.prototype.neq=w.prototype.notEquals=m.prototype.neq=m.prototype.notEquals=f.prototype.neq=f.prototype.notEquals,f.prototype.greater=function(a){return this.compare(a)>0},w.prototype.gt=w.prototype.greater=m.prototype.gt=m.prototype.greater=f.prototype.gt=f.prototype.greater,f.prototype.lesser=function(a){return this.compare(a)<0},w.prototype.lt=w.prototype.lesser=m.prototype.lt=m.prototype.lesser=f.prototype.lt=f.prototype.lesser,f.prototype.greaterOrEquals=function(a){return this.compare(a)>=0},w.prototype.geq=w.prototype.greaterOrEquals=m.prototype.geq=m.prototype.greaterOrEquals=f.prototype.geq=f.prototype.greaterOrEquals,f.prototype.lesserOrEquals=function(a){return this.compare(a)<=0},w.prototype.leq=w.prototype.lesserOrEquals=m.prototype.leq=m.prototype.lesserOrEquals=f.prototype.leq=f.prototype.lesserOrEquals,f.prototype.isEven=function(){return(this.value[0]&1)===0},m.prototype.isEven=function(){return(this.value&1)===0},w.prototype.isEven=function(){return(this.value&BigInt(1))===BigInt(0)},f.prototype.isOdd=function(){return(this.value[0]&1)===1},m.prototype.isOdd=function(){return(this.value&1)===1},w.prototype.isOdd=function(){return(this.value&BigInt(1))===BigInt(1)},f.prototype.isPositive=function(){return!this.sign},m.prototype.isPositive=function(){return this.value>0},w.prototype.isPositive=m.prototype.isPositive,f.prototype.isNegative=function(){return this.sign},m.prototype.isNegative=function(){return this.value<0},w.prototype.isNegative=m.prototype.isNegative,f.prototype.isUnit=function(){return!1},m.prototype.isUnit=function(){return Math.abs(this.value)===1},w.prototype.isUnit=function(){return this.abs().value===BigInt(1)},f.prototype.isZero=function(){return!1},m.prototype.isZero=function(){return this.value===0},w.prototype.isZero=function(){return this.value===BigInt(0)},f.prototype.isDivisibleBy=function(a){var u=j(a);return u.isZero()?!1:u.isUnit()?!0:u.compareAbs(2)===0?this.isEven():this.mod(u).isZero()},w.prototype.isDivisibleBy=m.prototype.isDivisibleBy=f.prototype.isDivisibleBy;function Ln(a){var u=a.abs();if(u.isUnit())return!1;if(u.equals(2)||u.equals(3)||u.equals(5))return!0;if(u.isEven()||u.isDivisibleBy(3)||u.isDivisibleBy(5))return!1;if(u.lesser(49))return!0}function rn(a,u){for(var g=a.prev(),v=g,T=0,E,A,S;v.isEven();)v=v.divide(2),T++;e:for(A=0;A<u.length;A++)if(!a.lesser(u[A])&&(S=t(u[A]).modPow(v,a),!(S.isUnit()||S.equals(g)))){for(E=T-1;E!=0;E--){if(S=S.square().mod(a),S.isUnit())return!1;if(S.equals(g))continue e}return!1}return!0}f.prototype.isPrime=function(a){var u=Ln(this);if(u!==n)return u;var g=this.abs(),v=g.bitLength();if(v<=64)return rn(g,[2,3,5,7,11,13,17,19,23,29,31,37]);for(var T=Math.log(2)*v.toJSNumber(),E=Math.ceil(a===!0?2*Math.pow(T,2):T),A=[],S=0;S<E;S++)A.push(t(S+2));return rn(g,A)},w.prototype.isPrime=m.prototype.isPrime=f.prototype.isPrime,f.prototype.isProbablePrime=function(a,u){var g=Ln(this);if(g!==n)return g;for(var v=this.abs(),T=a===n?5:a,E=[],A=0;A<T;A++)E.push(t.randBetween(2,v.minus(2),u));return rn(v,E)},w.prototype.isProbablePrime=m.prototype.isProbablePrime=f.prototype.isProbablePrime,f.prototype.modInv=function(a){for(var u=t.zero,g=t.one,v=j(a),T=this.abs(),E,A,S;!T.isZero();)E=v.divide(T),A=u,S=v,u=g,v=T,g=A.subtract(E.multiply(g)),T=S.subtract(E.multiply(T));if(!v.isUnit())throw new Error(this.toString()+" and "+a.toString()+" are not co-prime");return u.compare(0)===-1&&(u=u.add(a)),this.isNegative()?u.negate():u},w.prototype.modInv=m.prototype.modInv=f.prototype.modInv,f.prototype.next=function(){var a=this.value;return this.sign?Ve(a,1,this.sign):new f(de(a,1),this.sign)},m.prototype.next=function(){var a=this.value;return a+1<s?new m(a+1):new f(o,!1)},w.prototype.next=function(){return new w(this.value+BigInt(1))},f.prototype.prev=function(){var a=this.value;return this.sign?new f(de(a,1),!0):Ve(a,1,this.sign)},m.prototype.prev=function(){var a=this.value;return a-1>-s?new m(a-1):new f(o,!0)},w.prototype.prev=function(){return new w(this.value-BigInt(1))};for(var Xe=[1];2*Xe[Xe.length-1]<=r;)Xe.push(2*Xe[Xe.length-1]);var Lt=Xe.length,ut=Xe[Lt-1];function Pn(a){return Math.abs(a)<=r}f.prototype.shiftLeft=function(a){var u=j(a).toJSNumber();if(!Pn(u))throw new Error(String(u)+" is too large for shifting.");if(u<0)return this.shiftRight(-u);var g=this;if(g.isZero())return g;for(;u>=Lt;)g=g.multiply(ut),u-=Lt-1;return g.multiply(Xe[u])},w.prototype.shiftLeft=m.prototype.shiftLeft=f.prototype.shiftLeft,f.prototype.shiftRight=function(a){var u,g=j(a).toJSNumber();if(!Pn(g))throw new Error(String(g)+" is too large for shifting.");if(g<0)return this.shiftLeft(-g);for(var v=this;g>=Lt;){if(v.isZero()||v.isNegative()&&v.isUnit())return v;u=ot(v,ut),v=u[1].isNegative()?u[0].prev():u[0],g-=Lt-1}return u=ot(v,Xe[g]),u[1].isNegative()?u[0].prev():u[0]},w.prototype.shiftRight=m.prototype.shiftRight=f.prototype.shiftRight;function sn(a,u,g){u=j(u);for(var v=a.isNegative(),T=u.isNegative(),E=v?a.not():a,A=T?u.not():u,S=0,I=0,H=null,ee=null,F=[];!E.isZero()||!A.isZero();)H=ot(E,ut),S=H[1].toJSNumber(),v&&(S=ut-1-S),ee=ot(A,ut),I=ee[1].toJSNumber(),T&&(I=ut-1-I),E=H[0],A=ee[0],F.push(g(S,I));for(var ne=g(v?1:0,T?1:0)!==0?t(-1):t(0),Pe=F.length-1;Pe>=0;Pe-=1)ne=ne.multiply(ut).add(t(F[Pe]));return ne}f.prototype.not=function(){return this.negate().prev()},w.prototype.not=m.prototype.not=f.prototype.not,f.prototype.and=function(a){return sn(this,a,function(u,g){return u&g})},w.prototype.and=m.prototype.and=f.prototype.and,f.prototype.or=function(a){return sn(this,a,function(u,g){return u|g})},w.prototype.or=m.prototype.or=f.prototype.or,f.prototype.xor=function(a){return sn(this,a,function(u,g){return u^g})},w.prototype.xor=m.prototype.xor=f.prototype.xor;var se=1<<30,kn=(r&-r)*(r&-r)|se;function Kt(a){var u=a.value,g=typeof u=="number"?u|se:typeof u=="bigint"?u|BigInt(se):u[0]+u[1]*r|kn;return g&-g}function ze(a,u){if(u.compareTo(a)<=0){var g=ze(a,u.square(u)),v=g.p,T=g.e,E=v.multiply(u);return E.compareTo(a)<=0?{p:E,e:T*2+1}:{p:v,e:T*2}}return{p:t(1),e:0}}f.prototype.bitLength=function(){var a=this;return a.compareTo(t(0))<0&&(a=a.negate().subtract(t(1))),a.compareTo(t(0))===0?t(0):t(ze(a,t(2)).e).add(t(1))},w.prototype.bitLength=m.prototype.bitLength=f.prototype.bitLength;function an(a,u){return a=j(a),u=j(u),a.greater(u)?a:u}function Ft(a,u){return a=j(a),u=j(u),a.lesser(u)?a:u}function Mn(a,u){if(a=j(a).abs(),u=j(u).abs(),a.equals(u))return a;if(a.isZero())return u;if(u.isZero())return a;for(var g=p[1],v,T;a.isEven()&&u.isEven();)v=Ft(Kt(a),Kt(u)),a=a.divide(v),u=u.divide(v),g=g.multiply(v);for(;a.isEven();)a=a.divide(Kt(a));do{for(;u.isEven();)u=u.divide(Kt(u));a.greater(u)&&(T=u,u=a,a=T),u=u.subtract(a)}while(!u.isZero());return g.isUnit()?a:a.multiply(g)}function Un(a,u){return a=j(a).abs(),u=j(u).abs(),a.divide(Mn(a,u)).multiply(u)}function Bn(a,u,g){a=j(a),u=j(u);var v=g||Math.random,T=Ft(a,u),E=an(a,u),A=E.subtract(T).add(1);if(A.isSmall)return T.add(Math.floor(v()*A));for(var S=Pt(A,r).value,I=[],H=!0,ee=0;ee<S.length;ee++){var F=H?S[ee]:r,ne=J(v()*F);I.push(ne),ne<F&&(H=!1)}return T.add(p.fromArray(I,r,!1))}var Zn=function(a,u,g,v){g=g||c,a=String(a),v||(a=a.toLowerCase(),g=g.toLowerCase());var T=a.length,E,A=Math.abs(u),S={};for(E=0;E<g.length;E++)S[g[E]]=E;for(E=0;E<T;E++){var I=a[E];if(I!=="-"&&I in S&&S[I]>=A){if(I==="1"&&A===1)continue;throw new Error(I+" is not a valid digit in base "+u+".")}}u=j(u);var H=[],ee=a[0]==="-";for(E=ee?1:0;E<a.length;E++){var I=a[E];if(I in S)H.push(j(S[I]));else if(I==="<"){var F=E;do E++;while(a[E]!==">"&&E<a.length);H.push(j(a.slice(F+1,E)))}else throw new Error(I+" is not a valid character")}return Gn(H,u,ee)};function Gn(a,u,g){var v=p[0],T=p[1],E;for(E=a.length-1;E>=0;E--)v=v.add(a[E].times(T)),T=T.times(u);return g?v.negate():v}function Tr(a,u){return u=u||c,a<u.length?u[a]:"<"+a+">"}function Pt(a,u){if(u=t(u),u.isZero()){if(a.isZero())return{value:[0],isNegative:!1};throw new Error("Cannot convert nonzero numbers to base 0.")}if(u.equals(-1)){if(a.isZero())return{value:[0],isNegative:!1};if(a.isNegative())return{value:[].concat.apply([],Array.apply(null,Array(-a.toJSNumber())).map(Array.prototype.valueOf,[1,0])),isNegative:!1};var g=Array.apply(null,Array(a.toJSNumber()-1)).map(Array.prototype.valueOf,[0,1]);return g.unshift([1]),{value:[].concat.apply([],g),isNegative:!1}}var v=!1;if(a.isNegative()&&u.isPositive()&&(v=!0,a=a.abs()),u.isUnit())return a.isZero()?{value:[0],isNegative:!1}:{value:Array.apply(null,Array(a.toJSNumber())).map(Number.prototype.valueOf,1),isNegative:v};for(var T=[],E=a,A;E.isNegative()||E.compareAbs(u)>=0;){A=E.divmod(u),E=A.quotient;var S=A.remainder;S.isNegative()&&(S=u.minus(S).abs(),E=E.next()),T.push(S.toJSNumber())}return T.push(E.toJSNumber()),{value:T.reverse(),isNegative:v}}function Vn(a,u,g){var v=Pt(a,u);return(v.isNegative?"-":"")+v.value.map(function(T){return Tr(T,g)}).join("")}f.prototype.toArray=function(a){return Pt(this,a)},m.prototype.toArray=function(a){return Pt(this,a)},w.prototype.toArray=function(a){return Pt(this,a)},f.prototype.toString=function(a,u){if(a===n&&(a=10),a!==10)return Vn(this,a,u);for(var g=this.value,v=g.length,T=String(g[--v]),E="0000000",A;--v>=0;)A=String(g[v]),T+=E.slice(A.length)+A;var S=this.sign?"-":"";return S+T},m.prototype.toString=function(a,u){return a===n&&(a=10),a!=10?Vn(this,a,u):String(this.value)},w.prototype.toString=m.prototype.toString,w.prototype.toJSON=f.prototype.toJSON=m.prototype.toJSON=function(){return this.toString()},f.prototype.valueOf=function(){return parseInt(this.toString(),10)},f.prototype.toJSNumber=f.prototype.valueOf,m.prototype.valueOf=function(){return this.value},m.prototype.toJSNumber=m.prototype.valueOf,w.prototype.valueOf=w.prototype.toJSNumber=function(){return parseInt(this.toString(),10)};function Hn(a){if(x(+a)){var u=+a;if(u===J(u))return h?new w(BigInt(u)):new m(u);throw new Error("Invalid integer: "+a)}var g=a[0]==="-";g&&(a=a.slice(1));var v=a.split(/e/i);if(v.length>2)throw new Error("Invalid integer: "+v.join("e"));if(v.length===2){var T=v[1];if(T[0]==="+"&&(T=T.slice(1)),T=+T,T!==J(T)||!x(T))throw new Error("Invalid integer: "+T+" is not a valid exponent.");var E=v[0],A=E.indexOf(".");if(A>=0&&(T-=E.length-A-1,E=E.slice(0,A)+E.slice(A+1)),T<0)throw new Error("Cannot include negative exponent part for integers");E+=new Array(T+1).join("0"),a=E}var S=/^([0-9][0-9]*)$/.test(a);if(!S)throw new Error("Invalid integer: "+a);if(h)return new w(BigInt(g?"-"+a:a));for(var I=[],H=a.length,ee=i,F=H-ee;H>0;)I.push(+a.slice(F,H)),F-=ee,F<0&&(F=0),H-=ee;return R(I),new f(I,g)}function br(a){if(h)return new w(BigInt(a));if(x(a)){if(a!==J(a))throw new Error(a+" is not an integer.");return new m(a)}return Hn(a.toString())}function j(a){return typeof a=="number"?br(a):typeof a=="string"?Hn(a):typeof a=="bigint"?new w(a):a}for(var ct=0;ct<1e3;ct++)p[ct]=j(ct),ct>0&&(p[-ct]=j(-ct));return p.one=p[1],p.zero=p[0],p.minusOne=p[-1],p.max=an,p.min=Ft,p.gcd=Mn,p.lcm=Un,p.isInstance=function(a){return a instanceof f||a instanceof m||a instanceof w},p.randBetween=Bn,p.fromArray=function(a,u,g){return Gn(a.map(j),j(u||10),g)},p}();e.hasOwnProperty("exports")&&(e.exports=t)})(Mi);var No=Mi.exports,Oo=Ii(No);const Ui=64,jr=16,At=Ui/jr;function Ro(){try{return!0}catch{return!1}}function Do(e,t,n){let r=0;for(let i=0;i<n;i++){const s=e[t+i];if(s===void 0)break;r+=s*16**i}return r}function Bi(e){const t=[];for(let n=0;n<e.length;n++){let r=Number(e[n]);for(let i=0;r||i<t.length;i++)r+=(t[i]||0)*10,t[i]=r%16,r=(r-t[i])/16}return t}function xo(e){const t=Bi(e),n=Array(At);for(let r=0;r<At;r++)n[At-1-r]=Do(t,r*At,At);return n}class tt{static fromString(t){return new tt(xo(t),t)}static fromBit(t){const n=Array(At),r=Math.floor(t/jr);for(let i=0;i<At;i++)n[At-1-i]=i===r?1<<t-r*jr:0;return new tt(n)}constructor(t,n){this.parts=t,this.str=n}and({parts:t}){return new tt(this.parts.map((n,r)=>n&t[r]))}or({parts:t}){return new tt(this.parts.map((n,r)=>n|t[r]))}xor({parts:t}){return new tt(this.parts.map((n,r)=>n^t[r]))}not(){return new tt(this.parts.map(t=>~t))}equals({parts:t}){return this.parts.every((n,r)=>n===t[r])}toString(){if(this.str!=null)return this.str;const t=new Array(Ui/4);return this.parts.forEach((n,r)=>{const i=Bi(n.toString());for(let s=0;s<4;s++)t[s+r*4]=i[3-s]||0}),this.str=Oo.fromArray(t,16).toString()}toJSON(){return this.toString()}}const xt=Ro();xt&&BigInt.prototype.toJSON==null&&(BigInt.prototype.toJSON=function(){return this.toString()});const Qn={},Zi=xt?function(t){return BigInt(t)}:function(t){return t instanceof tt?t:(typeof t=="number"&&(t=t.toString()),Qn[t]!=null||(Qn[t]=tt.fromString(t)),Qn[t])},we=Zi(0),gr=xt?function(t=we,n=we){return t&n}:function(t=we,n=we){return t.and(n)},Gi=xt?function(t=we,n=we){return t|n}:function(t=we,n=we){return t.or(n)},Lo=xt?function(t=we,n=we){return t^n}:function(t=we,n=we){return t.xor(n)},Po=xt?function(t=we){return~t}:function(t=we){return t.not()},Wr=xt?function(t,n){return t===n}:function(t,n){return t==null||n==null?t==n:t.equals(n)};function ko(...e){let t=e[0];for(let n=1;n<e.length;n++)t=Gi(t,e[n]);return t}function Mo(e,t){return Wr(gr(e,t),t)}function Uo(e,t){return!Wr(gr(e,t),we)}function Bo(e,t){return t===we?e:Gi(e,t)}function Zo(e,t){return t===we?e:Lo(e,gr(e,t))}const Go=xt?function(t){return BigInt(1)<<BigInt(t)}:function(t){return tt.fromBit(t)};var vi={combine:ko,add:Bo,remove:Zo,filter:gr,invert:Po,has:Mo,hasAny:Uo,equals:Wr,deserialize:Zi,getFlag:Go},yi;(function(e){e[e.CLOSE_NORMAL=1e3]="CLOSE_NORMAL",e[e.CLOSE_UNSUPPORTED=1003]="CLOSE_UNSUPPORTED",e[e.CLOSE_ABNORMAL=1006]="CLOSE_ABNORMAL",e[e.INVALID_CLIENTID=4e3]="INVALID_CLIENTID",e[e.INVALID_ORIGIN=4001]="INVALID_ORIGIN",e[e.RATELIMITED=4002]="RATELIMITED",e[e.TOKEN_REVOKED=4003]="TOKEN_REVOKED",e[e.INVALID_VERSION=4004]="INVALID_VERSION",e[e.INVALID_ENCODING=4005]="INVALID_ENCODING"})(yi||(yi={}));var qr;(function(e){e[e.INVALID_PAYLOAD=4e3]="INVALID_PAYLOAD",e[e.INVALID_COMMAND=4002]="INVALID_COMMAND",e[e.INVALID_EVENT=4004]="INVALID_EVENT",e[e.INVALID_PERMISSIONS=4006]="INVALID_PERMISSIONS"})(qr||(qr={}));var Kr;(function(e){e.LANDSCAPE="landscape",e.PORTRAIT="portrait"})(Kr||(Kr={}));var St;(function(e){e.MOBILE="mobile",e.DESKTOP="desktop"})(St||(St={}));Object.freeze({CREATE_INSTANT_INVITE:vi.getFlag(0),ADMINISTRATOR:vi.getFlag(3)});function xe(e){return ki(t=>{var n;const[r]=(n=Object.entries(e).find(([,i])=>i===t))!==null&&n!==void 0?n:[];return t!=null&&r===void 0?e.UNHANDLED:t},y().or(Z()))}function Vo(e){const t=$r().transform(n=>{const r=e.safeParse(n);return r.success?r.data:e._def.defaultValue()});return t.overlayType=e,t}const Ho=M.object({image_url:M.string()}),jo=M.object({mediaUrl:M.string().max(1024)}),qo=M.object({access_token:M.union([M.string(),M.null()]).optional()}),Vi=M.object({access_token:M.string(),user:M.object({username:M.string(),discriminator:M.string(),id:M.string(),avatar:M.union([M.string(),M.null()]).optional(),public_flags:M.number(),global_name:M.union([M.string(),M.null()]).optional()}),scopes:M.array(Vo(M.enum(["identify","email","connections","guilds","guilds.join","guilds.members.read","gdm.join","rpc","rpc.notifications.read","rpc.voice.read","rpc.voice.write","rpc.video.read","rpc.video.write","rpc.screenshare.read","rpc.screenshare.write","rpc.activities.write","bot","webhook.incoming","messages.read","applications.builds.upload","applications.builds.read","applications.commands","applications.commands.update","applications.commands.permissions.update","applications.store.update","applications.entitlements","activities.read","activities.write","relationships.read","voice","dm_channels.read","role_connections.write"]).or(M.literal(-1)).default(-1))),expires:M.string(),application:M.object({description:M.string(),icon:M.union([M.string(),M.null()]).optional(),id:M.string(),rpc_origins:M.array(M.string()).optional(),name:M.string()})}),Hi=M.object({participants:M.array(M.object({id:M.string(),username:M.string(),global_name:M.union([M.string(),M.null()]).optional(),discriminator:M.string(),avatar:M.union([M.string(),M.null()]).optional(),flags:M.number(),bot:M.boolean(),avatar_decoration_data:M.union([M.object({asset:M.string(),skuId:M.string().optional()}),M.null()]).optional(),premium_type:M.union([M.number(),M.null()]).optional(),nickname:M.string().optional()}))});var nt;(function(e){e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.AUTHENTICATE="AUTHENTICATE",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(nt||(nt={}));const Ko=M.object({}).optional().nullable(),Ei=M.void(),ji={[nt.INITIATE_IMAGE_UPLOAD]:{request:Ei,response:Ho},[nt.OPEN_SHARE_MOMENT_DIALOG]:{request:jo,response:Ko},[nt.AUTHENTICATE]:{request:qo,response:Vi},[nt.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS]:{request:Ei,response:Hi}},Fo="DISPATCH";var G;(function(e){e.AUTHORIZE="AUTHORIZE",e.AUTHENTICATE="AUTHENTICATE",e.GET_GUILDS="GET_GUILDS",e.GET_GUILD="GET_GUILD",e.GET_CHANNEL="GET_CHANNEL",e.GET_CHANNELS="GET_CHANNELS",e.SELECT_VOICE_CHANNEL="SELECT_VOICE_CHANNEL",e.SELECT_TEXT_CHANNEL="SELECT_TEXT_CHANNEL",e.SUBSCRIBE="SUBSCRIBE",e.UNSUBSCRIBE="UNSUBSCRIBE",e.CAPTURE_SHORTCUT="CAPTURE_SHORTCUT",e.SET_CERTIFIED_DEVICES="SET_CERTIFIED_DEVICES",e.SET_ACTIVITY="SET_ACTIVITY",e.GET_SKUS="GET_SKUS",e.GET_ENTITLEMENTS="GET_ENTITLEMENTS",e.GET_SKUS_EMBEDDED="GET_SKUS_EMBEDDED",e.GET_ENTITLEMENTS_EMBEDDED="GET_ENTITLEMENTS_EMBEDDED",e.START_PURCHASE="START_PURCHASE",e.SET_CONFIG="SET_CONFIG",e.SEND_ANALYTICS_EVENT="SEND_ANALYTICS_EVENT",e.USER_SETTINGS_GET_LOCALE="USER_SETTINGS_GET_LOCALE",e.OPEN_EXTERNAL_LINK="OPEN_EXTERNAL_LINK",e.ENCOURAGE_HW_ACCELERATION="ENCOURAGE_HW_ACCELERATION",e.CAPTURE_LOG="CAPTURE_LOG",e.SET_ORIENTATION_LOCK_STATE="SET_ORIENTATION_LOCK_STATE",e.OPEN_INVITE_DIALOG="OPEN_INVITE_DIALOG",e.GET_PLATFORM_BEHAVIORS="GET_PLATFORM_BEHAVIORS",e.GET_CHANNEL_PERMISSIONS="GET_CHANNEL_PERMISSIONS",e.OPEN_SHARE_MOMENT_DIALOG="OPEN_SHARE_MOMENT_DIALOG",e.INITIATE_IMAGE_UPLOAD="INITIATE_IMAGE_UPLOAD",e.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS="GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS"})(G||(G={}));const en=D({cmd:y(),data:Sn(),evt:Xr(),nonce:y()}).passthrough(),Yo=Object.assign(Object.assign({},Vi.shape.scopes.element.overlayType._def.innerType.options[0].Values),{UNHANDLED:-1});xe(Yo);const Dt=D({id:y(),username:y(),discriminator:y(),global_name:y().optional().nullable(),avatar:y().optional().nullable(),avatar_decoration_data:D({asset:y(),sku_id:y().optional()}).nullable(),bot:Y(),flags:Z().optional().nullable(),premium_type:Z().optional().nullable()}),Jr=D({user:Dt,nick:y().optional().nullable(),roles:te(y()),joined_at:y(),deaf:Y(),mute:Y()}),Cr=D({id:y(),name:y().optional().nullable(),roles:te(y()).optional().nullable(),user:Dt.optional().nullable(),require_colons:Y().optional().nullable(),managed:Y().optional().nullable(),animated:Y().optional().nullable(),available:Y().optional().nullable()}),qi=D({mute:Y(),deaf:Y(),self_mute:Y(),self_deaf:Y(),suppress:Y()}),Ki=D({mute:Y(),nick:y(),user:Dt,voice_state:qi,volume:Z()}),$o={UNHANDLED:-1,IDLE:"idle",DND:"dnd",ONLINE:"online",OFFLINE:"offline"},er=xe($o),pn=D({name:y(),type:Z(),url:y().optional().nullable(),created_at:Z().optional().nullable(),timestamps:D({start:Z(),end:Z()}).partial().optional().nullable(),application_id:y().optional().nullable(),details:y().optional().nullable(),state:y().optional().nullable(),emoji:Cr.optional().nullable(),party:D({id:y().optional().nullable(),size:te(Z()).optional().nullable()}).optional().nullable(),assets:D({large_image:y().nullable(),large_text:y().nullable(),small_image:y().nullable(),small_text:y().nullable()}).partial().optional().nullable(),secrets:D({join:y(),match:y()}).partial().optional().nullable(),instance:Y().optional().nullable(),flags:Z().optional().nullable()}),Xo={UNHANDLED:-1,ROLE:0,MEMBER:1},zo=D({id:y(),type:xe(Xo),allow:y(),deny:y()}),Fi={UNHANDLED:-1,DM:1,GROUP_DM:3,GUILD_TEXT:0,GUILD_VOICE:2,GUILD_CATEGORY:4,GUILD_ANNOUNCEMENT:5,GUILD_STORE:6,ANNOUNCEMENT_THREAD:10,PUBLIC_THREAD:11,PRIVATE_THREAD:12,GUILD_STAGE_VOICE:13,GUILD_DIRECTORY:14,GUILD_FORUM:15},Yi=D({id:y(),type:xe(Fi),guild_id:y().optional().nullable(),position:Z().optional().nullable(),permission_overwrites:te(zo).optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),nsfw:Y().optional().nullable(),last_message_id:y().optional().nullable(),bitrate:Z().optional().nullable(),user_limit:Z().optional().nullable(),rate_limit_per_user:Z().optional().nullable(),recipients:te(Dt).optional().nullable(),icon:y().optional().nullable(),owner_id:y().optional().nullable(),application_id:y().optional().nullable(),parent_id:y().optional().nullable(),last_pin_timestamp:y().optional().nullable()}),Wo=D({user:Dt,guild_id:y(),status:er,activities:te(pn),client_status:D({desktop:er,mobile:er,web:er}).partial()}),Jo=D({id:y(),name:y(),color:Z(),hoist:Y(),position:Z(),permissions:y(),managed:Y(),mentionable:Y()});D({id:y(),name:y(),owner_id:y(),icon:y().nullable(),icon_hash:y().optional().nullable(),splash:y().nullable(),discovery_splash:y().nullable(),owner:Y().optional().nullable(),permissions:y().optional().nullable(),region:y(),afk_channel_id:y().nullable(),afk_timeout:Z(),widget_enabled:Y().optional().nullable(),widget_channel_id:y().optional().nullable(),verification_level:Z(),default_message_notifications:Z(),explicit_content_filter:Z(),roles:te(Jo),emojis:te(Cr),features:te(y()),mfa_level:Z(),application_id:y().nullable(),system_channel_id:y().nullable(),system_channel_flags:Z(),rules_channel_id:y().nullable(),joined_at:y().optional().nullable(),large:Y().optional().nullable(),unavailable:Y().optional().nullable(),member_count:Z().optional().nullable(),voice_states:te(qi).optional().nullable(),members:te(Jr).optional().nullable(),channels:te(Yi).optional().nullable(),presences:te(Wo).optional().nullable(),max_presences:Z().optional().nullable(),max_members:Z().optional().nullable(),vanity_url_code:y().nullable(),description:y().nullable(),banner:y().nullable(),premium_tier:Z(),premium_subscription_count:Z().optional().nullable(),preferred_locale:y(),public_updates_channel_id:y().nullable(),max_video_channel_users:Z().optional().nullable(),approximate_member_count:Z().optional().nullable(),approximate_presence_count:Z().optional().nullable()});const Co=D({id:y(),guild_id:y(),type:Z(),name:y()}),Qo=D({id:y(),filename:y(),size:Z(),url:y(),proxy_url:y(),height:Z().optional().nullable(),width:Z().optional().nullable()}),el=D({text:y(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),Fr=D({url:y().optional().nullable(),proxy_url:y().optional().nullable(),height:Z().optional().nullable(),width:Z().optional().nullable()}),tl=Fr.omit({proxy_url:!0}),nl=D({name:y().optional().nullable(),url:y().optional().nullable()}),rl=D({name:y().optional().nullable(),url:y().optional().nullable(),icon_url:y().optional().nullable(),proxy_icon_url:y().optional().nullable()}),il=D({name:y(),value:y(),inline:Y()}),sl=D({title:y().optional().nullable(),type:y().optional().nullable(),description:y().optional().nullable(),url:y().optional().nullable(),timestamp:y().optional().nullable(),color:Z().optional().nullable(),footer:el.optional().nullable(),image:Fr.optional().nullable(),thumbnail:Fr.optional().nullable(),video:tl.optional().nullable(),provider:nl.optional().nullable(),author:rl.optional().nullable(),fields:te(il).optional().nullable()}),al=D({count:Z(),me:Y(),emoji:Cr}),ol=D({type:Z(),party_id:y().optional().nullable()}),ll=D({id:y(),cover_image:y().optional().nullable(),description:y(),icon:y().optional().nullable(),name:y()}),ul=D({message_id:y().optional().nullable(),channel_id:y().optional().nullable(),guild_id:y().optional().nullable()}),cl=D({id:y(),channel_id:y(),guild_id:y().optional().nullable(),author:Dt.optional().nullable(),member:Jr.optional().nullable(),content:y(),timestamp:y(),edited_timestamp:y().optional().nullable(),tts:Y(),mention_everyone:Y(),mentions:te(Dt),mention_roles:te(y()),mention_channels:te(Co),attachments:te(Qo),embeds:te(sl),reactions:te(al).optional().nullable(),nonce:zr([y(),Z()]).optional().nullable(),pinned:Y(),webhook_id:y().optional().nullable(),type:Z(),activity:ol.optional().nullable(),application:ll.optional().nullable(),message_reference:ul.optional().nullable(),flags:Z().optional().nullable(),stickers:te(Sn()).optional().nullable(),referenced_message:Sn().optional().nullable()}),fl=D({id:y(),name:y()}),pl={UNHANDLED:-1,KEYBOARD_KEY:0,MOUSE_BUTTON:1,KEYBOARD_MODIFIER_KEY:2,GAMEPAD_BUTTON:3},$i=D({type:xe(pl),code:Z(),name:y()}),dl={UNHANDLED:-1,PUSH_TO_TALK:"PUSH_TO_TALK",VOICE_ACTIVITY:"VOICE_ACTIVITY"},hl=D({type:xe(dl),auto_threshold:Y(),threshold:Z(),shortcut:te($i),delay:Z()}),Ti=D({device_id:y(),volume:Z(),available_devices:te(fl)}),gl={UNHANDLED:-1,AUDIO_INPUT:"AUDIO_INPUT",AUDIO_OUTPUT:"AUDIO_OUTPUT",VIDEO_INPUT:"VIDEO_INPUT"};D({type:xe(gl),id:y(),vendor:D({name:y(),url:y()}),model:D({name:y(),url:y()}),related:te(y()),echo_cancellation:Y().optional().nullable(),noise_suppression:Y().optional().nullable(),automatic_gain_control:Y().optional().nullable(),hardware_mute:Y().optional().nullable()});const ml={UNHANDLED:-1,APPLICATION:1,DLC:2,CONSUMABLE:3,BUNDLE:4,SUBSCRIPTION:5},_l=D({id:y(),name:y(),type:xe(ml),price:D({amount:Z(),currency:y()}),application_id:y(),flags:Z(),release_date:y().nullable()}),vl={UNHANDLED:-1,PURCHASE:1,PREMIUM_SUBSCRIPTION:2,DEVELOPER_GIFT:3,TEST_MODE_PURCHASE:4,FREE_PURCHASE:5,USER_GIFT:6,PREMIUM_PURCHASE:7},Qr=D({id:y(),sku_id:y(),application_id:y(),user_id:y(),gift_code_flags:Z(),type:xe(vl),gifter_user_id:y().optional().nullable(),branches:te(y()).optional().nullable(),starts_at:y().optional().nullable(),ends_at:y().optional().nullable(),parent_id:y().optional().nullable(),consumed:Y().optional().nullable(),deleted:Y().optional().nullable(),gift_code_batch_id:y().optional().nullable()}),yl={UNHANDLED:-1,UNLOCKED:1,PORTRAIT:2,LANDSCAPE:3};xe(yl);const El={UNHANDLED:-1,NOMINAL:0,FAIR:1,SERIOUS:2,CRITICAL:3},Tl=xe(El),Xi={UNHANDLED:-1,PORTRAIT:0,LANDSCAPE:1};xe(Xi);const zi={UNHANDLED:-1,FOCUSED:0,PIP:1,GRID:2};xe(zi);const ei="ERROR";var ae;(function(e){e.READY="READY",e.VOICE_STATE_UPDATE="VOICE_STATE_UPDATE",e.SPEAKING_START="SPEAKING_START",e.SPEAKING_STOP="SPEAKING_STOP",e.ACTIVITY_LAYOUT_MODE_UPDATE="ACTIVITY_LAYOUT_MODE_UPDATE",e.ORIENTATION_UPDATE="ORIENTATION_UPDATE",e.CURRENT_USER_UPDATE="CURRENT_USER_UPDATE",e.ENTITLEMENT_CREATE="ENTITLEMENT_CREATE",e.THERMAL_STATE_UPDATE="THERMAL_STATE_UPDATE",e.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE="ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE"})(ae||(ae={}));const Fe=en.extend({evt:Qt(ae),nonce:y().nullable(),cmd:Ee(Fo),data:D({}).passthrough()}),Wi=en.extend({evt:Ee(ei),data:D({code:Z(),message:y().optional()}).passthrough(),cmd:Qt(G),nonce:y().nullable()}),bl=Fe.extend({evt:y()}),wl=zr([Fe,bl,Wi]);function Al(e){const t=e.evt;if(!(t in ae))throw new Error(`Unrecognized event type ${e.evt}`);return Sl[t].payload.parse(e)}const Sl={[ae.READY]:{payload:Fe.extend({evt:Ee(ae.READY),data:D({v:Z(),config:D({cdn_host:y().optional(),api_endpoint:y(),environment:y()}),user:D({id:y(),username:y(),discriminator:y(),avatar:y().optional()}).optional()})})},[ae.VOICE_STATE_UPDATE]:{payload:Fe.extend({evt:Ee(ae.VOICE_STATE_UPDATE),data:Ki}),subscribeArgs:D({channel_id:y()})},[ae.SPEAKING_START]:{payload:Fe.extend({evt:Ee(ae.SPEAKING_START),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.SPEAKING_STOP]:{payload:Fe.extend({evt:Ee(ae.SPEAKING_STOP),data:D({lobby_id:y().optional(),channel_id:y().optional(),user_id:y()})}),subscribeArgs:D({lobby_id:y().nullable().optional(),channel_id:y().nullable().optional()})},[ae.ACTIVITY_LAYOUT_MODE_UPDATE]:{payload:Fe.extend({evt:Ee(ae.ACTIVITY_LAYOUT_MODE_UPDATE),data:D({layout_mode:xe(zi)})})},[ae.ORIENTATION_UPDATE]:{payload:Fe.extend({evt:Ee(ae.ORIENTATION_UPDATE),data:D({screen_orientation:xe(Xi),orientation:Qt(Kr)})})},[ae.CURRENT_USER_UPDATE]:{payload:Fe.extend({evt:Ee(ae.CURRENT_USER_UPDATE),data:Dt})},[ae.ENTITLEMENT_CREATE]:{payload:Fe.extend({evt:Ee(ae.ENTITLEMENT_CREATE),data:D({entitlement:Qr})})},[ae.THERMAL_STATE_UPDATE]:{payload:Fe.extend({evt:Ee(ae.THERMAL_STATE_UPDATE),data:D({thermal_state:Tl})})},[ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE]:{payload:Fe.extend({evt:Ee(ae.ACTIVITY_INSTANCE_PARTICIPANTS_UPDATE),data:D({participants:Hi.shape.participants})})}};function Il(e,t){throw t}const On=D({}).nullable(),Ji=D({code:y()}),Nl=D({guilds:te(D({id:y(),name:y()}))}),Ol=D({id:y(),name:y(),icon_url:y().optional(),members:te(Jr)}),Ct=D({id:y(),type:xe(Fi),guild_id:y().optional().nullable(),name:y().optional().nullable(),topic:y().optional().nullable(),bitrate:Z().optional().nullable(),user_limit:Z().optional().nullable(),position:Z().optional().nullable(),voice_states:te(Ki),messages:te(cl)}),Rl=D({channels:te(Yi)});Ct.nullable();const Dl=Ct.nullable(),xl=Ct.nullable();D({input:Ti,output:Ti,mode:hl,automatic_gain_control:Y(),echo_cancellation:Y(),noise_suppression:Y(),qos:Y(),silence_warning:Y(),deaf:Y(),mute:Y()});const Ll=D({evt:y()}),Pl=D({shortcut:$i}),Ci=pn,Qi=D({skus:te(_l)}),es=D({entitlements:te(Qr)}),ts=te(Qr).nullable(),ns=D({use_interactive_pip:Y()}),rs=D({locale:y()}),is=D({enabled:Y()}),ss=D({permissions:Li().or(y())}),as=D({iosKeyboardResizesView:Pi(Y())}),kl=en.extend({cmd:Qt(G),evt:Xr()});function Ml({cmd:e,data:t}){switch(e){case G.AUTHORIZE:return Ji.parse(t);case G.CAPTURE_SHORTCUT:return Pl.parse(t);case G.ENCOURAGE_HW_ACCELERATION:return is.parse(t);case G.GET_CHANNEL:return Ct.parse(t);case G.GET_CHANNELS:return Rl.parse(t);case G.GET_CHANNEL_PERMISSIONS:return ss.parse(t);case G.GET_GUILD:return Ol.parse(t);case G.GET_GUILDS:return Nl.parse(t);case G.GET_PLATFORM_BEHAVIORS:return as.parse(t);case G.GET_CHANNEL:return Ct.parse(t);case G.SELECT_TEXT_CHANNEL:return xl.parse(t);case G.SELECT_VOICE_CHANNEL:return Dl.parse(t);case G.SET_ACTIVITY:return Ci.parse(t);case G.GET_SKUS_EMBEDDED:return Qi.parse(t);case G.GET_ENTITLEMENTS_EMBEDDED:return es.parse(t);case G.SET_CONFIG:return ns.parse(t);case G.START_PURCHASE:return ts.parse(t);case G.SUBSCRIBE:case G.UNSUBSCRIBE:return Ll.parse(t);case G.USER_SETTINGS_GET_LOCALE:return rs.parse(t);case G.OPEN_EXTERNAL_LINK:case G.SET_ORIENTATION_LOCK_STATE:case G.SET_CERTIFIED_DEVICES:case G.SEND_ANALYTICS_EVENT:case G.OPEN_INVITE_DIALOG:case G.CAPTURE_LOG:case G.GET_SKUS:case G.GET_ENTITLEMENTS:return On.parse(t);case G.AUTHENTICATE:case G.INITIATE_IMAGE_UPLOAD:case G.OPEN_SHARE_MOMENT_DIALOG:case G.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS:const{response:n}=ji[e];return n.parse(t);default:Il(e,new Error(`Unrecognized command ${e}`))}}function Ul(e){return Object.assign(Object.assign({},e),{data:Ml(e)})}D({frame_id:y(),platform:Qt(St).optional().nullable()});D({v:Ee(1),encoding:Ee("json").optional(),client_id:y(),frame_id:y()});const Bl=D({code:Z(),message:y().optional()}),Zl=D({evt:y().nullable(),nonce:y().nullable(),data:Sn().nullable(),cmd:y()}).passthrough();function Gl(e){const t=Zl.parse(e);return t.evt!=null?t.evt===ei?Wi.parse(t):Al(wl.parse(t)):Ul(kl.passthrough().parse(t))}function Ge(e,t,n,r=()=>{}){const i=en.extend({cmd:Ee(t),data:n});return async s=>{const o=await e({cmd:t,args:s,transfer:r(s)});return i.parse(o).data}}function mr(e,t=()=>{}){const n=ji[e].response,r=en.extend({cmd:Ee(e),data:n});return i=>async s=>{const o=await i({cmd:e,args:s,transfer:t(s)});return r.parse(o).data}}const Vl=mr(nt.AUTHENTICATE),Hl=e=>Ge(e,G.AUTHORIZE,Ji),jl=e=>Ge(e,G.CAPTURE_LOG,On),ql=e=>Ge(e,G.ENCOURAGE_HW_ACCELERATION,is),Kl=e=>Ge(e,G.GET_ENTITLEMENTS_EMBEDDED,es),Fl=e=>Ge(e,G.GET_SKUS_EMBEDDED,Qi),Yl=e=>Ge(e,G.GET_CHANNEL_PERMISSIONS,ss),$l=e=>Ge(e,G.GET_PLATFORM_BEHAVIORS,as),Xl=e=>Ge(e,G.OPEN_EXTERNAL_LINK,On),zl=e=>Ge(e,G.OPEN_INVITE_DIALOG,On),Wl=mr(nt.OPEN_SHARE_MOMENT_DIALOG);pn.pick({state:!0,details:!0,timestamps:!0,assets:!0,party:!0,secrets:!0,buttons:!0,instance:!0,supported_platforms:!0,type:!0}).extend({type:pn.shape.type.optional(),instance:pn.shape.instance.optional()}).nullable();const Jl=e=>Ge(e,G.SET_ACTIVITY,Ci),Cl=e=>Ge(e,G.SET_CONFIG,ns);function Ql({sendCommand:e,cmd:t,response:n,fallbackTransform:r,transferTransform:i=()=>{}}){const s=en.extend({cmd:Ee(t),data:n});return async o=>{try{const c=await e({cmd:t,args:o,transfer:i(o)});return s.parse(c).data}catch(c){if(c.code===qr.INVALID_PAYLOAD){const h=r(o),p=await e({cmd:t,args:h,transfer:i(h)});return s.parse(p).data}else throw c}}}const eu=e=>({lock_state:e.lock_state,picture_in_picture_lock_state:e.picture_in_picture_lock_state}),tu=e=>Ql({sendCommand:e,cmd:G.SET_ORIENTATION_LOCK_STATE,response:On,fallbackTransform:eu}),nu=e=>Ge(e,G.START_PURCHASE,ts),ru=e=>Ge(e,G.USER_SETTINGS_GET_LOCALE,rs),iu=mr(nt.INITIATE_IMAGE_UPLOAD),su=e=>Ge(e,G.GET_CHANNEL,Ct),au=mr(nt.GET_ACTIVITY_INSTANCE_CONNECTED_PARTICIPANTS);function ou(e){return{authenticate:Vl(e),authorize:Hl(e),captureLog:jl(e),encourageHardwareAcceleration:ql(e),getChannel:su(e),getChannelPermissions:Yl(e),getEntitlements:Kl(e),getPlatformBehaviors:$l(e),getSkus:Fl(e),openExternalLink:Xl(e),openInviteDialog:zl(e),openShareMomentDialog:Wl(e),setActivity:Jl(e),setConfig:Cl(e),setOrientationLockState:tu(e),startPurchase:nu(e),userSettingsGetLocale:ru(e),initiateImageUpload:iu(e),getInstanceConnectedParticipants:au(e)}}var lu=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;function os(e){return typeof e=="string"&&lu.test(e)}var be=[];for(var kr=0;kr<256;++kr)be.push((kr+256).toString(16).substr(1));function ls(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=(be[e[t+0]]+be[e[t+1]]+be[e[t+2]]+be[e[t+3]]+"-"+be[e[t+4]]+be[e[t+5]]+"-"+be[e[t+6]]+be[e[t+7]]+"-"+be[e[t+8]]+be[e[t+9]]+"-"+be[e[t+10]]+be[e[t+11]]+be[e[t+12]]+be[e[t+13]]+be[e[t+14]]+be[e[t+15]]).toLowerCase();if(!os(n))throw TypeError("Stringified UUID is invalid");return n}function uu(e){if(!os(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=t&255,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=t&255,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=t&255,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=t&255,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=t&255,n}function cu(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}var fu="6ba7b810-9dad-11d1-80b4-00c04fd430c8",pu="6ba7b811-9dad-11d1-80b4-00c04fd430c8";function us(e,t,n){function r(i,s,o,c){if(typeof i=="string"&&(i=cu(i)),typeof s=="string"&&(s=uu(s)),s.length!==16)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var h=new Uint8Array(16+i.length);if(h.set(s),h.set(i,s.length),h=n(h),h[6]=h[6]&15|t,h[8]=h[8]&63|128,o){c=c||0;for(var p=0;p<16;++p)o[c+p]=h[p];return o}return ls(h)}try{r.name=e}catch{}return r.DNS=fu,r.URL=pu,r}function du(e){if(typeof e=="string"){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return hu(gu(mu(e),e.length*8))}function hu(e){for(var t=[],n=e.length*32,r="0123456789abcdef",i=0;i<n;i+=8){var s=e[i>>5]>>>i%32&255,o=parseInt(r.charAt(s>>>4&15)+r.charAt(s&15),16);t.push(o)}return t}function cs(e){return(e+64>>>9<<4)+14+1}function gu(e,t){e[t>>5]|=128<<t%32,e[cs(t)-1]=t;for(var n=1732584193,r=-271733879,i=-1732584194,s=271733878,o=0;o<e.length;o+=16){var c=n,h=r,p=i,f=s;n=Ie(n,r,i,s,e[o],7,-680876936),s=Ie(s,n,r,i,e[o+1],12,-389564586),i=Ie(i,s,n,r,e[o+2],17,606105819),r=Ie(r,i,s,n,e[o+3],22,-1044525330),n=Ie(n,r,i,s,e[o+4],7,-176418897),s=Ie(s,n,r,i,e[o+5],12,1200080426),i=Ie(i,s,n,r,e[o+6],17,-1473231341),r=Ie(r,i,s,n,e[o+7],22,-45705983),n=Ie(n,r,i,s,e[o+8],7,1770035416),s=Ie(s,n,r,i,e[o+9],12,-1958414417),i=Ie(i,s,n,r,e[o+10],17,-42063),r=Ie(r,i,s,n,e[o+11],22,-1990404162),n=Ie(n,r,i,s,e[o+12],7,1804603682),s=Ie(s,n,r,i,e[o+13],12,-40341101),i=Ie(i,s,n,r,e[o+14],17,-1502002290),r=Ie(r,i,s,n,e[o+15],22,1236535329),n=Ne(n,r,i,s,e[o+1],5,-165796510),s=Ne(s,n,r,i,e[o+6],9,-1069501632),i=Ne(i,s,n,r,e[o+11],14,643717713),r=Ne(r,i,s,n,e[o],20,-373897302),n=Ne(n,r,i,s,e[o+5],5,-701558691),s=Ne(s,n,r,i,e[o+10],9,38016083),i=Ne(i,s,n,r,e[o+15],14,-660478335),r=Ne(r,i,s,n,e[o+4],20,-405537848),n=Ne(n,r,i,s,e[o+9],5,568446438),s=Ne(s,n,r,i,e[o+14],9,-1019803690),i=Ne(i,s,n,r,e[o+3],14,-187363961),r=Ne(r,i,s,n,e[o+8],20,1163531501),n=Ne(n,r,i,s,e[o+13],5,-1444681467),s=Ne(s,n,r,i,e[o+2],9,-51403784),i=Ne(i,s,n,r,e[o+7],14,1735328473),r=Ne(r,i,s,n,e[o+12],20,-1926607734),n=Oe(n,r,i,s,e[o+5],4,-378558),s=Oe(s,n,r,i,e[o+8],11,-2022574463),i=Oe(i,s,n,r,e[o+11],16,1839030562),r=Oe(r,i,s,n,e[o+14],23,-35309556),n=Oe(n,r,i,s,e[o+1],4,-1530992060),s=Oe(s,n,r,i,e[o+4],11,1272893353),i=Oe(i,s,n,r,e[o+7],16,-155497632),r=Oe(r,i,s,n,e[o+10],23,-1094730640),n=Oe(n,r,i,s,e[o+13],4,681279174),s=Oe(s,n,r,i,e[o],11,-358537222),i=Oe(i,s,n,r,e[o+3],16,-722521979),r=Oe(r,i,s,n,e[o+6],23,76029189),n=Oe(n,r,i,s,e[o+9],4,-640364487),s=Oe(s,n,r,i,e[o+12],11,-421815835),i=Oe(i,s,n,r,e[o+15],16,530742520),r=Oe(r,i,s,n,e[o+2],23,-995338651),n=Re(n,r,i,s,e[o],6,-198630844),s=Re(s,n,r,i,e[o+7],10,1126891415),i=Re(i,s,n,r,e[o+14],15,-1416354905),r=Re(r,i,s,n,e[o+5],21,-57434055),n=Re(n,r,i,s,e[o+12],6,1700485571),s=Re(s,n,r,i,e[o+3],10,-1894986606),i=Re(i,s,n,r,e[o+10],15,-1051523),r=Re(r,i,s,n,e[o+1],21,-2054922799),n=Re(n,r,i,s,e[o+8],6,1873313359),s=Re(s,n,r,i,e[o+15],10,-30611744),i=Re(i,s,n,r,e[o+6],15,-1560198380),r=Re(r,i,s,n,e[o+13],21,1309151649),n=Re(n,r,i,s,e[o+4],6,-145523070),s=Re(s,n,r,i,e[o+11],10,-1120210379),i=Re(i,s,n,r,e[o+2],15,718787259),r=Re(r,i,s,n,e[o+9],21,-343485551),n=It(n,c),r=It(r,h),i=It(i,p),s=It(s,f)}return[n,r,i,s]}function mu(e){if(e.length===0)return[];for(var t=e.length*8,n=new Uint32Array(cs(t)),r=0;r<t;r+=8)n[r>>5]|=(e[r/8]&255)<<r%32;return n}function It(e,t){var n=(e&65535)+(t&65535),r=(e>>16)+(t>>16)+(n>>16);return r<<16|n&65535}function _u(e,t){return e<<t|e>>>32-t}function _r(e,t,n,r,i,s){return It(_u(It(It(t,e),It(r,s)),i),n)}function Ie(e,t,n,r,i,s,o){return _r(t&n|~t&r,e,t,i,s,o)}function Ne(e,t,n,r,i,s,o){return _r(t&r|n&~r,e,t,i,s,o)}function Oe(e,t,n,r,i,s,o){return _r(t^n^r,e,t,i,s,o)}function Re(e,t,n,r,i,s,o){return _r(n^(t|~r),e,t,i,s,o)}us("v3",48,du);var tr,vu=new Uint8Array(16);function yu(){if(!tr&&(tr=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&typeof msCrypto.getRandomValues=="function"&&msCrypto.getRandomValues.bind(msCrypto),!tr))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return tr(vu)}function bi(e,t,n){e=e||{};var r=e.random||(e.rng||yu)();if(r[6]=r[6]&15|64,r[8]=r[8]&63|128,t){n=n||0;for(var i=0;i<16;++i)t[n+i]=r[i];return t}return ls(r)}function Eu(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function Mr(e,t){return e<<t|e>>>32-t}function Tu(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if(typeof e=="string"){var r=unescape(encodeURIComponent(e));e=[];for(var i=0;i<r.length;++i)e.push(r.charCodeAt(i))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var s=e.length/4+2,o=Math.ceil(s/16),c=new Array(o),h=0;h<o;++h){for(var p=new Uint32Array(16),f=0;f<16;++f)p[f]=e[h*64+f*4]<<24|e[h*64+f*4+1]<<16|e[h*64+f*4+2]<<8|e[h*64+f*4+3];c[h]=p}c[o-1][14]=(e.length-1)*8/Math.pow(2,32),c[o-1][14]=Math.floor(c[o-1][14]),c[o-1][15]=(e.length-1)*8&4294967295;for(var m=0;m<o;++m){for(var w=new Uint32Array(80),x=0;x<16;++x)w[x]=c[m][x];for(var K=16;K<80;++K)w[K]=Mr(w[K-3]^w[K-8]^w[K-14]^w[K-16],1);for(var B=n[0],R=n[1],ce=n[2],J=n[3],Q=n[4],me=0;me<80;++me){var de=Math.floor(me/20),Ue=Mr(B,5)+Eu(de,R,ce,J)+Q+t[de]+w[me]>>>0;Q=J,J=ce,ce=Mr(R,30)>>>0,R=B,B=Ue}n[0]=n[0]+B>>>0,n[1]=n[1]+R>>>0,n[2]=n[2]+ce>>>0,n[3]=n[3]+J>>>0,n[4]=n[4]+Q>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,n[0]&255,n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,n[1]&255,n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,n[2]&255,n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,n[3]&255,n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,n[4]&255]}us("v5",80,Tu);class bu extends Error{constructor(t,n=""){super(n),this.code=t,this.message=n,this.name="Discord SDK Error"}}function wu(){return{disableConsoleLogOverride:!1}}const Au=["log","warn","debug","info","error"];function Su(e,t,n){const r=e[t],i=e;r&&(e[t]=function(){const s=[].slice.call(arguments),o=""+s.join(" ");n(t,o),r.apply(i,s)})}var mt;(function(e){e[e.HANDSHAKE=0]="HANDSHAKE",e[e.FRAME=1]="FRAME",e[e.CLOSE=2]="CLOSE",e[e.HELLO=3]="HELLO"})(mt||(mt={}));const Iu=new Set(Nu());function Nu(){return typeof window>"u"?[]:[window.location.origin,"https://discord.com","https://discordapp.com","https://ptb.discord.com","https://ptb.discordapp.com","https://canary.discord.com","https://canary.discordapp.com","https://staging.discord.co","http://localhost:3333","https://pax.discord.com","null"]}function Ou(){var e;return[(e=window.parent.opener)!==null&&e!==void 0?e:window.parent,document.referrer?document.referrer:"*"]}class Ru{getTransfer(t){var n;switch(t.cmd){case G.SUBSCRIBE:case G.UNSUBSCRIBE:return;default:return(n=t.transfer)!==null&&n!==void 0?n:void 0}}constructor(t,n){if(this.eventBus=new Ba,this.source=null,this.sourceOrigin="",this.pendingCommands=new Map,this.sendCommand=c=>{var h;if(this.source==null)throw new Error("Attempting to send message before initialization");const p=bi();return(h=this.source)===null||h===void 0||h.postMessage([mt.FRAME,Object.assign(Object.assign({},c),{nonce:p})],this.sourceOrigin,this.getTransfer(c)),new Promise((m,w)=>{this.pendingCommands.set(p,{resolve:m,reject:w})})},this.commands=ou(this.sendCommand),this.handleMessage=c=>{if(!Iu.has(c.origin))return;const h=c.data;if(!Array.isArray(h))return;const[p,f]=h;switch(p){case mt.HELLO:return;case mt.CLOSE:return this.handleClose(f);case mt.HANDSHAKE:return this.handleHandshake();case mt.FRAME:return this.handleFrame(f);default:throw new Error("Invalid message format")}},this.isReady=!1,this.clientId=t,this.configuration=n??wu(),typeof window<"u"&&window.addEventListener("message",this.handleMessage),typeof window>"u"){this.frameId="",this.instanceId="",this.platform=St.DESKTOP,this.guildId=null,this.channelId=null;return}const r=new URLSearchParams(this._getSearch()),i=r.get("frame_id");if(!i)throw new Error("frame_id query param is not defined");this.frameId=i;const s=r.get("instance_id");if(!s)throw new Error("instance_id query param is not defined");this.instanceId=s;const o=r.get("platform");if(o){if(o!==St.DESKTOP&&o!==St.MOBILE)throw new Error(`Invalid query param "platform" of "${o}". Valid values are "${St.DESKTOP}" or "${St.MOBILE}"`)}else throw new Error("platform query param is not defined");this.platform=o,this.guildId=r.get("guild_id"),this.channelId=r.get("channel_id"),[this.source,this.sourceOrigin]=Ou(),this.addOnReadyListener(),this.handshake()}close(t,n){var r;window.removeEventListener("message",this.handleMessage);const i=bi();(r=this.source)===null||r===void 0||r.postMessage([mt.CLOSE,{code:t,message:n,nonce:i}],this.sourceOrigin)}async subscribe(t,n,...r){const[i]=r,s=this.eventBus.listenerCount(t),o=this.eventBus.on(t,n);return Object.values(ae).includes(t)&&t!==ae.READY&&s===0&&await this.sendCommand({cmd:G.SUBSCRIBE,args:i,evt:t}),o}async unsubscribe(t,n,...r){const[i]=r;return t!==ae.READY&&this.eventBus.listenerCount(t)===1&&await this.sendCommand({cmd:G.UNSUBSCRIBE,evt:t,args:i}),this.eventBus.off(t,n)}async ready(){this.isReady||await new Promise(t=>{this.eventBus.once(ae.READY,t)})}handshake(){var t;(t=this.source)===null||t===void 0||t.postMessage([mt.HANDSHAKE,{v:1,encoding:"json",client_id:this.clientId,frame_id:this.frameId}],this.sourceOrigin)}addOnReadyListener(){this.eventBus.once(ae.READY,()=>{this.overrideConsoleLogging(),this.isReady=!0})}overrideConsoleLogging(){if(this.configuration.disableConsoleLogOverride)return;const t=(n,r)=>{this.commands.captureLog({level:n,message:r})};Au.forEach(n=>{Su(console,n,t)})}handleClose(t){Bl.parse(t)}handleHandshake(){}handleFrame(t){var n,r;let i;try{i=Gl(t)}catch(s){console.error("Failed to parse",t),console.error(s);return}if(i.cmd==="DISPATCH")this.eventBus.emit(i.evt,i.data);else{if(i.evt===ei){if(i.nonce!=null){(n=this.pendingCommands.get(i.nonce))===null||n===void 0||n.reject(i.data),this.pendingCommands.delete(i.nonce);return}this.eventBus.emit("error",new bu(i.data.code,i.data.message))}if(i.nonce==null){console.error("Missing nonce",t);return}(r=this.pendingCommands.get(i.nonce))===null||r===void 0||r.resolve(i),this.pendingCommands.delete(i.nonce)}}_getSearch(){return typeof window>"u"?"":window.location.search}}var tn=1e9,Du={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},ms,pe=!0,Ye="[DecimalError] ",Gt=Ye+"Invalid argument: ",ti=Ye+"Exponent out of range: ",nn=Math.floor,Bt=Math.pow,xu=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,He,Te=1e7,fe=7,fs=9007199254740991,pr=nn(fs/fe),k={};k.absoluteValue=k.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};k.comparedTo=k.cmp=function(e){var t,n,r,i,s=this;if(e=new s.constructor(e),s.s!==e.s)return s.s||-e.s;if(s.e!==e.e)return s.e>e.e^s.s<0?1:-1;for(r=s.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(s.d[t]!==e.d[t])return s.d[t]>e.d[t]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};k.decimalPlaces=k.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*fe;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};k.dividedBy=k.div=function(e){return vt(this,new this.constructor(e))};k.dividedToIntegerBy=k.idiv=function(e){var t=this,n=t.constructor;return ue(vt(t,new n(e),0,1),n.precision)};k.equals=k.eq=function(e){return!this.cmp(e)};k.exponent=function(){return _e(this)};k.greaterThan=k.gt=function(e){return this.cmp(e)>0};k.greaterThanOrEqualTo=k.gte=function(e){return this.cmp(e)>=0};k.isInteger=k.isint=function(){return this.e>this.d.length-2};k.isNegative=k.isneg=function(){return this.s<0};k.isPositive=k.ispos=function(){return this.s>0};k.isZero=function(){return this.s===0};k.lessThan=k.lt=function(e){return this.cmp(e)<0};k.lessThanOrEqualTo=k.lte=function(e){return this.cmp(e)<1};k.logarithm=k.log=function(e){var t,n=this,r=n.constructor,i=r.precision,s=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(He))throw Error(Ye+"NaN");if(n.s<1)throw Error(Ye+(n.s?"NaN":"-Infinity"));return n.eq(He)?new r(0):(pe=!1,t=vt(In(n,s),In(e,s),s),pe=!0,ue(t,i))};k.minus=k.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?hs(t,e):ps(t,(e.s=-e.s,e))};k.modulo=k.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(Ye+"NaN");return n.s?(pe=!1,t=vt(n,e,0,1).times(e),pe=!0,n.minus(t)):ue(new r(n),i)};k.naturalExponential=k.exp=function(){return ds(this)};k.naturalLogarithm=k.ln=function(){return In(this)};k.negated=k.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};k.plus=k.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?ps(t,e):hs(t,(e.s=-e.s,e))};k.precision=k.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(Gt+e);if(t=_e(i)+1,r=i.d.length-1,n=r*fe+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};k.squareRoot=k.sqrt=function(){var e,t,n,r,i,s,o,c=this,h=c.constructor;if(c.s<1){if(!c.s)return new h(0);throw Error(Ye+"NaN")}for(e=_e(c),pe=!1,i=Math.sqrt(+c),i==0||i==1/0?(t=rt(c.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=nn((e+1)/2)-(e<0||e%2),i==1/0?t="1e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new h(t)):r=new h(i.toString()),n=h.precision,i=o=n+3;;)if(s=r,r=s.plus(vt(c,s,o+2)).times(.5),rt(s.d).slice(0,o)===(t=rt(r.d)).slice(0,o)){if(t=t.slice(o-3,o+1),i==o&&t=="4999"){if(ue(s,n+1,0),s.times(s).eq(c)){r=s;break}}else if(t!="9999")break;o+=4}return pe=!0,ue(r,n)};k.times=k.mul=function(e){var t,n,r,i,s,o,c,h,p,f=this,m=f.constructor,w=f.d,x=(e=new m(e)).d;if(!f.s||!e.s)return new m(0);for(e.s*=f.s,n=f.e+e.e,h=w.length,p=x.length,h<p&&(s=w,w=x,x=s,o=h,h=p,p=o),s=[],o=h+p,r=o;r--;)s.push(0);for(r=p;--r>=0;){for(t=0,i=h+r;i>r;)c=s[i]+x[r]*w[i-r-1]+t,s[i--]=c%Te|0,t=c/Te|0;s[i]=(s[i]+t)%Te|0}for(;!s[--o];)s.pop();return t?++n:s.shift(),e.d=s,e.e=n,pe?ue(e,m.precision):e};k.toDecimalPlaces=k.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(at(e,0,tn),t===void 0?t=r.rounding:at(t,0,8),ue(n,e+_e(n)+1,t))};k.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=qt(r,!0):(at(e,0,tn),t===void 0?t=i.rounding:at(t,0,8),r=ue(new i(r),e+1,t),n=qt(r,!0,e+1)),n};k.toFixed=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?qt(i):(at(e,0,tn),t===void 0?t=s.rounding:at(t,0,8),r=ue(new s(i),e+_e(i)+1,t),n=qt(r.abs(),!1,e+_e(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};k.toInteger=k.toint=function(){var e=this,t=e.constructor;return ue(new t(e),_e(e)+1,t.rounding)};k.toNumber=function(){return+this};k.toPower=k.pow=function(e){var t,n,r,i,s,o,c=this,h=c.constructor,p=12,f=+(e=new h(e));if(!e.s)return new h(He);if(c=new h(c),!c.s){if(e.s<1)throw Error(Ye+"Infinity");return c}if(c.eq(He))return c;if(r=h.precision,e.eq(He))return ue(c,r);if(t=e.e,n=e.d.length-1,o=t>=n,s=c.s,o){if((n=f<0?-f:f)<=fs){for(i=new h(He),t=Math.ceil(r/fe+4),pe=!1;n%2&&(i=i.times(c),Ai(i.d,t)),n=nn(n/2),n!==0;)c=c.times(c),Ai(c.d,t);return pe=!0,e.s<0?new h(He).div(i):ue(i,r)}}else if(s<0)throw Error(Ye+"NaN");return s=s<0&&e.d[Math.max(t,n)]&1?-1:1,c.s=1,pe=!1,i=e.times(In(c,r+p)),pe=!0,i=ds(i),i.s=s,i};k.toPrecision=function(e,t){var n,r,i=this,s=i.constructor;return e===void 0?(n=_e(i),r=qt(i,n<=s.toExpNeg||n>=s.toExpPos)):(at(e,1,tn),t===void 0?t=s.rounding:at(t,0,8),i=ue(new s(i),e,t),n=_e(i),r=qt(i,e<=n||n<=s.toExpNeg,e)),r};k.toSignificantDigits=k.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(at(e,1,tn),t===void 0?t=r.rounding:at(t,0,8)),ue(new r(n),e,t)};k.toString=k.valueOf=k.val=k.toJSON=k[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=_e(e),n=e.constructor;return qt(e,t<=n.toExpNeg||t>=n.toExpPos)};function ps(e,t){var n,r,i,s,o,c,h,p,f=e.constructor,m=f.precision;if(!e.s||!t.s)return t.s||(t=new f(e)),pe?ue(t,m):t;if(h=e.d,p=t.d,o=e.e,i=t.e,h=h.slice(),s=o-i,s){for(s<0?(r=h,s=-s,c=p.length):(r=p,i=o,c=h.length),o=Math.ceil(m/fe),c=o>c?o+1:c+1,s>c&&(s=c,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(c=h.length,s=p.length,c-s<0&&(s=c,r=p,p=h,h=r),n=0;s;)n=(h[--s]=h[s]+p[s]+n)/Te|0,h[s]%=Te;for(n&&(h.unshift(n),++i),c=h.length;h[--c]==0;)h.pop();return t.d=h,t.e=i,pe?ue(t,m):t}function at(e,t,n){if(e!==~~e||e<t||e>n)throw Error(Gt+e)}function rt(e){var t,n,r,i=e.length-1,s="",o=e[0];if(i>0){for(s+=o,t=1;t<i;t++)r=e[t]+"",n=fe-r.length,n&&(s+=bt(n)),s+=r;o=e[t],r=o+"",n=fe-r.length,n&&(s+=bt(n))}else if(o===0)return"0";for(;o%10===0;)o/=10;return s+o}var vt=function(){function e(r,i){var s,o=0,c=r.length;for(r=r.slice();c--;)s=r[c]*i+o,r[c]=s%Te|0,o=s/Te|0;return o&&r.unshift(o),r}function t(r,i,s,o){var c,h;if(s!=o)h=s>o?1:-1;else for(c=h=0;c<s;c++)if(r[c]!=i[c]){h=r[c]>i[c]?1:-1;break}return h}function n(r,i,s){for(var o=0;s--;)r[s]-=o,o=r[s]<i[s]?1:0,r[s]=o*Te+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,o){var c,h,p,f,m,w,x,K,B,R,ce,J,Q,me,de,Ue,Ae,Ve,$e=r.constructor,je=r.s==i.s?1:-1,Le=r.d,le=i.d;if(!r.s)return new $e(r);if(!i.s)throw Error(Ye+"Division by zero");for(h=r.e-i.e,Ae=le.length,de=Le.length,x=new $e(je),K=x.d=[],p=0;le[p]==(Le[p]||0);)++p;if(le[p]>(Le[p]||0)&&--h,s==null?J=s=$e.precision:o?J=s+(_e(r)-_e(i))+1:J=s,J<0)return new $e(0);if(J=J/fe+2|0,p=0,Ae==1)for(f=0,le=le[0],J++;(p<de||f)&&J--;p++)Q=f*Te+(Le[p]||0),K[p]=Q/le|0,f=Q%le|0;else{for(f=Te/(le[0]+1)|0,f>1&&(le=e(le,f),Le=e(Le,f),Ae=le.length,de=Le.length),me=Ae,B=Le.slice(0,Ae),R=B.length;R<Ae;)B[R++]=0;Ve=le.slice(),Ve.unshift(0),Ue=le[0],le[1]>=Te/2&&++Ue;do f=0,c=t(le,B,Ae,R),c<0?(ce=B[0],Ae!=R&&(ce=ce*Te+(B[1]||0)),f=ce/Ue|0,f>1?(f>=Te&&(f=Te-1),m=e(le,f),w=m.length,R=B.length,c=t(m,B,w,R),c==1&&(f--,n(m,Ae<w?Ve:le,w))):(f==0&&(c=f=1),m=le.slice()),w=m.length,w<R&&m.unshift(0),n(B,m,R),c==-1&&(R=B.length,c=t(le,B,Ae,R),c<1&&(f++,n(B,Ae<R?Ve:le,R))),R=B.length):c===0&&(f++,B=[0]),K[p++]=f,c&&B[0]?B[R++]=Le[me]||0:(B=[Le[me]],R=1);while((me++<de||B[0]!==void 0)&&J--)}return K[0]||K.shift(),x.e=h,ue(x,o?s+_e(x)+1:s)}}();function ds(e,t){var n,r,i,s,o,c,h=0,p=0,f=e.constructor,m=f.precision;if(_e(e)>16)throw Error(ti+_e(e));if(!e.s)return new f(He);for(t==null?(pe=!1,c=m):c=t,o=new f(.03125);e.abs().gte(.1);)e=e.times(o),p+=5;for(r=Math.log(Bt(2,p))/Math.LN10*2+5|0,c+=r,n=i=s=new f(He),f.precision=c;;){if(i=ue(i.times(e),c),n=n.times(++h),o=s.plus(vt(i,n,c)),rt(o.d).slice(0,c)===rt(s.d).slice(0,c)){for(;p--;)s=ue(s.times(s),c);return f.precision=m,t==null?(pe=!0,ue(s,m)):s}s=o}}function _e(e){for(var t=e.e*fe,n=e.d[0];n>=10;n/=10)t++;return t}function Ur(e,t,n){if(t>e.LN10.sd())throw pe=!0,n&&(e.precision=n),Error(Ye+"LN10 precision limit exceeded");return ue(new e(e.LN10),t)}function bt(e){for(var t="";e--;)t+="0";return t}function In(e,t){var n,r,i,s,o,c,h,p,f,m=1,w=10,x=e,K=x.d,B=x.constructor,R=B.precision;if(x.s<1)throw Error(Ye+(x.s?"NaN":"-Infinity"));if(x.eq(He))return new B(0);if(t==null?(pe=!1,p=R):p=t,x.eq(10))return t==null&&(pe=!0),Ur(B,p);if(p+=w,B.precision=p,n=rt(K),r=n.charAt(0),s=_e(x),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)x=x.times(e),n=rt(x.d),r=n.charAt(0),m++;s=_e(x),r>1?(x=new B("0."+n),s++):x=new B(r+"."+n.slice(1))}else return h=Ur(B,p+2,R).times(s+""),x=In(new B(r+"."+n.slice(1)),p-w).plus(h),B.precision=R,t==null?(pe=!0,ue(x,R)):x;for(c=o=x=vt(x.minus(He),x.plus(He),p),f=ue(x.times(x),p),i=3;;){if(o=ue(o.times(f),p),h=c.plus(vt(o,new B(i),p)),rt(h.d).slice(0,p)===rt(c.d).slice(0,p))return c=c.times(2),s!==0&&(c=c.plus(Ur(B,p+2,R).times(s+""))),c=vt(c,new B(m),p),B.precision=R,t==null?(pe=!0,ue(c,R)):c;c=h,i+=2}}function wi(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=nn(n/fe),e.d=[],r=(n+1)%fe,n<0&&(r+=fe),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=fe;r<i;)e.d.push(+t.slice(r,r+=fe));t=t.slice(r),r=fe-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),pe&&(e.e>pr||e.e<-pr))throw Error(ti+n)}else e.s=0,e.e=0,e.d=[0];return e}function ue(e,t,n){var r,i,s,o,c,h,p,f,m=e.d;for(o=1,s=m[0];s>=10;s/=10)o++;if(r=t-o,r<0)r+=fe,i=t,p=m[f=0];else{if(f=Math.ceil((r+1)/fe),s=m.length,f>=s)return e;for(p=s=m[f],o=1;s>=10;s/=10)o++;r%=fe,i=r-fe+o}if(n!==void 0&&(s=Bt(10,o-i-1),c=p/s%10|0,h=t<0||m[f+1]!==void 0||p%s,h=n<4?(c||h)&&(n==0||n==(e.s<0?3:2)):c>5||c==5&&(n==4||h||n==6&&(r>0?i>0?p/Bt(10,o-i):0:m[f-1])%10&1||n==(e.s<0?8:7))),t<1||!m[0])return h?(s=_e(e),m.length=1,t=t-s-1,m[0]=Bt(10,(fe-t%fe)%fe),e.e=nn(-t/fe)||0):(m.length=1,m[0]=e.e=e.s=0),e;if(r==0?(m.length=f,s=1,f--):(m.length=f+1,s=Bt(10,fe-r),m[f]=i>0?(p/Bt(10,o-i)%Bt(10,i)|0)*s:0),h)for(;;)if(f==0){(m[0]+=s)==Te&&(m[0]=1,++e.e);break}else{if(m[f]+=s,m[f]!=Te)break;m[f--]=0,s=1}for(r=m.length;m[--r]===0;)m.pop();if(pe&&(e.e>pr||e.e<-pr))throw Error(ti+_e(e));return e}function hs(e,t){var n,r,i,s,o,c,h,p,f,m,w=e.constructor,x=w.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new w(e),pe?ue(t,x):t;if(h=e.d,m=t.d,r=t.e,p=e.e,h=h.slice(),o=p-r,o){for(f=o<0,f?(n=h,o=-o,c=m.length):(n=m,r=p,c=h.length),i=Math.max(Math.ceil(x/fe),c)+2,o>i&&(o=i,n.length=1),n.reverse(),i=o;i--;)n.push(0);n.reverse()}else{for(i=h.length,c=m.length,f=i<c,f&&(c=i),i=0;i<c;i++)if(h[i]!=m[i]){f=h[i]<m[i];break}o=0}for(f&&(n=h,h=m,m=n,t.s=-t.s),c=h.length,i=m.length-c;i>0;--i)h[c++]=0;for(i=m.length;i>o;){if(h[--i]<m[i]){for(s=i;s&&h[--s]===0;)h[s]=Te-1;--h[s],h[i]+=Te}h[i]-=m[i]}for(;h[--c]===0;)h.pop();for(;h[0]===0;h.shift())--r;return h[0]?(t.d=h,t.e=r,pe?ue(t,x):t):new w(0)}function qt(e,t,n){var r,i=_e(e),s=rt(e.d),o=s.length;return t?(n&&(r=n-o)>0?s=s.charAt(0)+"."+s.slice(1)+bt(r):o>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+bt(-i-1)+s,n&&(r=n-o)>0&&(s+=bt(r))):i>=o?(s+=bt(i+1-o),n&&(r=n-i-1)>0&&(s=s+"."+bt(r))):((r=i+1)<o&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-o)>0&&(i+1===o&&(s+="."),s+=bt(r))),e.s<0?"-"+s:s}function Ai(e,t){if(e.length>t)return e.length=t,!0}function gs(e){var t,n,r;function i(s){var o=this;if(!(o instanceof i))return new i(s);if(o.constructor=i,s instanceof i){o.s=s.s,o.e=s.e,o.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Gt+s);if(s>0)o.s=1;else if(s<0)s=-s,o.s=-1;else{o.s=0,o.e=0,o.d=[0];return}if(s===~~s&&s<1e7){o.e=0,o.d=[s];return}return wi(o,s.toString())}else if(typeof s!="string")throw Error(Gt+s);if(s.charCodeAt(0)===45?(s=s.slice(1),o.s=-1):o.s=1,xu.test(s))wi(o,s);else throw Error(Gt+s)}if(i.prototype=k,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=gs,i.config=i.set=Lu,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function Lu(e){if(!e||typeof e!="object")throw Error(Ye+"Object expected");var t,n,r,i=["precision",1,tn,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(nn(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(Gt+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Gt+n+": "+r);return this}var ms=gs(Du);He=new ms(1);var _;(function(e){e.AED="aed",e.AFN="afn",e.ALL="all",e.AMD="amd",e.ANG="ang",e.AOA="aoa",e.ARS="ars",e.AUD="aud",e.AWG="awg",e.AZN="azn",e.BAM="bam",e.BBD="bbd",e.BDT="bdt",e.BGN="bgn",e.BHD="bhd",e.BIF="bif",e.BMD="bmd",e.BND="bnd",e.BOB="bob",e.BOV="bov",e.BRL="brl",e.BSD="bsd",e.BTN="btn",e.BWP="bwp",e.BYN="byn",e.BYR="byr",e.BZD="bzd",e.CAD="cad",e.CDF="cdf",e.CHE="che",e.CHF="chf",e.CHW="chw",e.CLF="clf",e.CLP="clp",e.CNY="cny",e.COP="cop",e.COU="cou",e.CRC="crc",e.CUC="cuc",e.CUP="cup",e.CVE="cve",e.CZK="czk",e.DJF="djf",e.DKK="dkk",e.DOP="dop",e.DZD="dzd",e.EGP="egp",e.ERN="ern",e.ETB="etb",e.EUR="eur",e.FJD="fjd",e.FKP="fkp",e.GBP="gbp",e.GEL="gel",e.GHS="ghs",e.GIP="gip",e.GMD="gmd",e.GNF="gnf",e.GTQ="gtq",e.GYD="gyd",e.HKD="hkd",e.HNL="hnl",e.HRK="hrk",e.HTG="htg",e.HUF="huf",e.IDR="idr",e.ILS="ils",e.INR="inr",e.IQD="iqd",e.IRR="irr",e.ISK="isk",e.JMD="jmd",e.JOD="jod",e.JPY="jpy",e.KES="kes",e.KGS="kgs",e.KHR="khr",e.KMF="kmf",e.KPW="kpw",e.KRW="krw",e.KWD="kwd",e.KYD="kyd",e.KZT="kzt",e.LAK="lak",e.LBP="lbp",e.LKR="lkr",e.LRD="lrd",e.LSL="lsl",e.LTL="ltl",e.LVL="lvl",e.LYD="lyd",e.MAD="mad",e.MDL="mdl",e.MGA="mga",e.MKD="mkd",e.MMK="mmk",e.MNT="mnt",e.MOP="mop",e.MRO="mro",e.MUR="mur",e.MVR="mvr",e.MWK="mwk",e.MXN="mxn",e.MXV="mxv",e.MYR="myr",e.MZN="mzn",e.NAD="nad",e.NGN="ngn",e.NIO="nio",e.NOK="nok",e.NPR="npr",e.NZD="nzd",e.OMR="omr",e.PAB="pab",e.PEN="pen",e.PGK="pgk",e.PHP="php",e.PKR="pkr",e.PLN="pln",e.PYG="pyg",e.QAR="qar",e.RON="ron",e.RSD="rsd",e.RUB="rub",e.RWF="rwf",e.SAR="sar",e.SBD="sbd",e.SCR="scr",e.SDG="sdg",e.SEK="sek",e.SGD="sgd",e.SHP="shp",e.SLL="sll",e.SOS="sos",e.SRD="srd",e.SSP="ssp",e.STD="std",e.SVC="svc",e.SYP="syp",e.SZL="szl",e.THB="thb",e.TJS="tjs",e.TMT="tmt",e.TND="tnd",e.TOP="top",e.TRY="try",e.TTD="ttd",e.TWD="twd",e.TZS="tzs",e.UAH="uah",e.UGX="ugx",e.USD="usd",e.USN="usn",e.USS="uss",e.UYI="uyi",e.UYU="uyu",e.UZS="uzs",e.VEF="vef",e.VND="vnd",e.VUV="vuv",e.WST="wst",e.XAF="xaf",e.XAG="xag",e.XAU="xau",e.XBA="xba",e.XBB="xbb",e.XBC="xbc",e.XBD="xbd",e.XCD="xcd",e.XDR="xdr",e.XFU="xfu",e.XOF="xof",e.XPD="xpd",e.XPF="xpf",e.XPT="xpt",e.XSU="xsu",e.XTS="xts",e.XUA="xua",e.YER="yer",e.ZAR="zar",e.ZMW="zmw",e.ZWL="zwl"})(_||(_={}));_.AED+"",_.AFN+"",_.ALL+"",_.AMD+"",_.ANG+"",_.AOA+"",_.ARS+"",_.AUD+"",_.AWG+"",_.AZN+"",_.BAM+"",_.BBD+"",_.BDT+"",_.BGN+"",_.BHD+"",_.BIF+"",_.BMD+"",_.BND+"",_.BOB+"",_.BOV+"",_.BRL+"",_.BSD+"",_.BTN+"",_.BWP+"",_.BYR+"",_.BYN+"",_.BZD+"",_.CAD+"",_.CDF+"",_.CHE+"",_.CHF+"",_.CHW+"",_.CLF+"",_.CLP+"",_.CNY+"",_.COP+"",_.COU+"",_.CRC+"",_.CUC+"",_.CUP+"",_.CVE+"",_.CZK+"",_.DJF+"",_.DKK+"",_.DOP+"",_.DZD+"",_.EGP+"",_.ERN+"",_.ETB+"",_.EUR+"",_.FJD+"",_.FKP+"",_.GBP+"",_.GEL+"",_.GHS+"",_.GIP+"",_.GMD+"",_.GNF+"",_.GTQ+"",_.GYD+"",_.HKD+"",_.HNL+"",_.HRK+"",_.HTG+"",_.HUF+"",_.IDR+"",_.ILS+"",_.INR+"",_.IQD+"",_.IRR+"",_.ISK+"",_.JMD+"",_.JOD+"",_.JPY+"",_.KES+"",_.KGS+"",_.KHR+"",_.KMF+"",_.KPW+"",_.KRW+"",_.KWD+"",_.KYD+"",_.KZT+"",_.LAK+"",_.LBP+"",_.LKR+"",_.LRD+"",_.LSL+"",_.LTL+"",_.LVL+"",_.LYD+"",_.MAD+"",_.MDL+"",_.MGA+"",_.MKD+"",_.MMK+"",_.MNT+"",_.MOP+"",_.MRO+"",_.MUR+"",_.MVR+"",_.MWK+"",_.MXN+"",_.MXV+"",_.MYR+"",_.MZN+"",_.NAD+"",_.NGN+"",_.NIO+"",_.NOK+"",_.NPR+"",_.NZD+"",_.OMR+"",_.PAB+"",_.PEN+"",_.PGK+"",_.PHP+"",_.PKR+"",_.PLN+"",_.PYG+"",_.QAR+"",_.RON+"",_.RSD+"",_.RUB+"",_.RWF+"",_.SAR+"",_.SBD+"",_.SCR+"",_.SDG+"",_.SEK+"",_.SGD+"",_.SHP+"",_.SLL+"",_.SOS+"",_.SRD+"",_.SSP+"",_.STD+"",_.SVC+"",_.SYP+"",_.SZL+"",_.THB+"",_.TJS+"",_.TMT+"",_.TND+"",_.TOP+"",_.TRY+"",_.TTD+"",_.TWD+"",_.TZS+"",_.UAH+"",_.UGX+"",_.USD+"",_.USN+"",_.USS+"",_.UYI+"",_.UYU+"",_.UZS+"",_.VEF+"",_.VND+"",_.VUV+"",_.WST+"",_.XAF+"",_.XAG+"",_.XAU+"",_.XBA+"",_.XBB+"",_.XBC+"",_.XBD+"",_.XCD+"",_.XDR+"",_.XFU+"",_.XOF+"",_.XPD+"",_.XPF+"",_.XPT+"",_.XSU+"",_.XTS+"",_.XUA+"",_.YER+"",_.ZAR+"",_.ZMW+"",_.ZWL+"";var dr={exports:{}};dr.exports;(function(e,t){var n=200,r="Expected a function",i="__lodash_hash_undefined__",s=1,o=2,c=1/0,h=9007199254740991,p="[object Arguments]",f="[object Array]",m="[object Boolean]",w="[object Date]",x="[object Error]",K="[object Function]",B="[object GeneratorFunction]",R="[object Map]",ce="[object Number]",J="[object Object]",Q="[object Promise]",me="[object RegExp]",de="[object Set]",Ue="[object String]",Ae="[object Symbol]",Ve="[object WeakMap]",$e="[object ArrayBuffer]",je="[object DataView]",Le="[object Float32Array]",le="[object Float64Array]",vr="[object Int8Array]",Rn="[object Int16Array]",Dn="[object Int32Array]",yr="[object Uint8Array]",Er="[object Uint8ClampedArray]",xn="[object Uint16Array]",ot="[object Uint32Array]",lt=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ln=/^\w*$/,rn=/^\./,Xe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Lt=/[\\^$.*+?()[\]{}|]/g,ut=/\\(\\)?/g,Pn=/^\[object .+?Constructor\]$/,sn=/^(?:0|[1-9]\d*)$/,se={};se[Le]=se[le]=se[vr]=se[Rn]=se[Dn]=se[yr]=se[Er]=se[xn]=se[ot]=!0,se[p]=se[f]=se[$e]=se[m]=se[je]=se[w]=se[x]=se[K]=se[R]=se[ce]=se[J]=se[me]=se[de]=se[Ue]=se[Ve]=!1;var kn=typeof Cn=="object"&&Cn&&Cn.Object===Object&&Cn,Kt=typeof self=="object"&&self&&self.Object===Object&&self,ze=kn||Kt||Function("return this")(),an=t&&!t.nodeType&&t,Ft=an&&!0&&e&&!e.nodeType&&e,Mn=Ft&&Ft.exports===an,Un=Mn&&kn.process,Bn=function(){try{return Un&&Un.binding("util")}catch{}}(),Zn=Bn&&Bn.isTypedArray;function Gn(l,d){for(var b=-1,N=l?l.length:0;++b<N&&d(l[b],b,l)!==!1;);return l}function Tr(l,d){for(var b=-1,N=l?l.length:0;++b<N;)if(d(l[b],b,l))return!0;return!1}function Pt(l){return function(d){return d==null?void 0:d[l]}}function Vn(l,d){for(var b=-1,N=Array(l);++b<l;)N[b]=d(b);return N}function Hn(l){return function(d){return l(d)}}function br(l,d){return l==null?void 0:l[d]}function j(l){var d=!1;if(l!=null&&typeof l.toString!="function")try{d=!!(l+"")}catch{}return d}function ct(l){var d=-1,b=Array(l.size);return l.forEach(function(N,$){b[++d]=[$,N]}),b}function a(l,d){return function(b){return l(d(b))}}function u(l){var d=-1,b=Array(l.size);return l.forEach(function(N){b[++d]=N}),b}var g=Array.prototype,v=Function.prototype,T=Object.prototype,E=ze["__core-js_shared__"],A=function(){var l=/[^.]+$/.exec(E&&E.keys&&E.keys.IE_PROTO||"");return l?"Symbol(src)_1."+l:""}(),S=v.toString,I=T.hasOwnProperty,H=T.toString,ee=RegExp("^"+S.call(I).replace(Lt,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),F=ze.Symbol,ne=ze.Uint8Array,Pe=a(Object.getPrototypeOf,Object),Se=Object.create,on=T.propertyIsEnumerable,ln=g.splice,vs=a(Object.keys,Object),wr=Yt(ze,"DataView"),un=Yt(ze,"Map"),Ar=Yt(ze,"Promise"),Sr=Yt(ze,"Set"),Ir=Yt(ze,"WeakMap"),cn=Yt(Object,"create"),ys=Mt(wr),Es=Mt(un),Ts=Mt(Ar),bs=Mt(Sr),ws=Mt(Ir),jn=F?F.prototype:void 0,Nr=jn?jn.valueOf:void 0,ri=jn?jn.toString:void 0;function kt(l){var d=-1,b=l?l.length:0;for(this.clear();++d<b;){var N=l[d];this.set(N[0],N[1])}}function As(){this.__data__=cn?cn(null):{}}function Ss(l){return this.has(l)&&delete this.__data__[l]}function Is(l){var d=this.__data__;if(cn){var b=d[l];return b===i?void 0:b}return I.call(d,l)?d[l]:void 0}function Ns(l){var d=this.__data__;return cn?d[l]!==void 0:I.call(d,l)}function Os(l,d){var b=this.__data__;return b[l]=cn&&d===void 0?i:d,this}kt.prototype.clear=As,kt.prototype.delete=Ss,kt.prototype.get=Is,kt.prototype.has=Ns,kt.prototype.set=Os;function ft(l){var d=-1,b=l?l.length:0;for(this.clear();++d<b;){var N=l[d];this.set(N[0],N[1])}}function Rs(){this.__data__=[]}function Ds(l){var d=this.__data__,b=Kn(d,l);if(b<0)return!1;var N=d.length-1;return b==N?d.pop():ln.call(d,b,1),!0}function xs(l){var d=this.__data__,b=Kn(d,l);return b<0?void 0:d[b][1]}function Ls(l){return Kn(this.__data__,l)>-1}function Ps(l,d){var b=this.__data__,N=Kn(b,l);return N<0?b.push([l,d]):b[N][1]=d,this}ft.prototype.clear=Rs,ft.prototype.delete=Ds,ft.prototype.get=xs,ft.prototype.has=Ls,ft.prototype.set=Ps;function pt(l){var d=-1,b=l?l.length:0;for(this.clear();++d<b;){var N=l[d];this.set(N[0],N[1])}}function ks(){this.__data__={hash:new kt,map:new(un||ft),string:new kt}}function Ms(l){return Fn(this,l).delete(l)}function Us(l){return Fn(this,l).get(l)}function Bs(l){return Fn(this,l).has(l)}function Zs(l,d){return Fn(this,l).set(l,d),this}pt.prototype.clear=ks,pt.prototype.delete=Ms,pt.prototype.get=Us,pt.prototype.has=Bs,pt.prototype.set=Zs;function qn(l){var d=-1,b=l?l.length:0;for(this.__data__=new pt;++d<b;)this.add(l[d])}function Gs(l){return this.__data__.set(l,i),this}function Vs(l){return this.__data__.has(l)}qn.prototype.add=qn.prototype.push=Gs,qn.prototype.has=Vs;function dt(l){this.__data__=new ft(l)}function Hs(){this.__data__=new ft}function js(l){return this.__data__.delete(l)}function qs(l){return this.__data__.get(l)}function Ks(l){return this.__data__.has(l)}function Fs(l,d){var b=this.__data__;if(b instanceof ft){var N=b.__data__;if(!un||N.length<n-1)return N.push([l,d]),this;b=this.__data__=new pt(N)}return b.set(l,d),this}dt.prototype.clear=Hs,dt.prototype.delete=js,dt.prototype.get=qs,dt.prototype.has=Ks,dt.prototype.set=Fs;function Ys(l,d){var b=ht(l)||fi(l)?Vn(l.length,String):[],N=b.length,$=!!N;for(var U in l)(d||I.call(l,U))&&!($&&(U=="length"||oi(U,N)))&&b.push(U);return b}function Kn(l,d){for(var b=l.length;b--;)if(ci(l[b][0],d))return b;return-1}function $s(l){return $t(l)?Se(l):{}}var Xs=la();function zs(l,d){return l&&Xs(l,d,zn)}function ii(l,d){d=Yn(d,l)?[d]:si(d);for(var b=0,N=d.length;l!=null&&b<N;)l=l[$n(d[b++])];return b&&b==N?l:void 0}function Ws(l){return H.call(l)}function Js(l,d){return l!=null&&d in Object(l)}function Or(l,d,b,N,$){return l===d?!0:l==null||d==null||!$t(l)&&!Xn(d)?l!==l&&d!==d:Cs(l,d,Or,b,N,$)}function Cs(l,d,b,N,$,U){var re=ht(l),oe=ht(d),he=f,ve=f;re||(he=Et(l),he=he==p?J:he),oe||(ve=Et(d),ve=ve==p?J:ve);var ke=he==J&&!j(l),Be=ve==J&&!j(d),ye=he==ve;if(ye&&!ke)return U||(U=new dt),re||di(l)?ai(l,d,b,N,$,U):ua(l,d,he,b,N,$,U);if(!($&o)){var qe=ke&&I.call(l,"__wrapped__"),Ke=Be&&I.call(d,"__wrapped__");if(qe||Ke){var Tt=qe?l.value():l,gt=Ke?d.value():d;return U||(U=new dt),b(Tt,gt,N,$,U)}}return ye?(U||(U=new dt),ca(l,d,b,N,$,U)):!1}function Qs(l,d,b,N){var $=b.length,U=$,re=!N;if(l==null)return!U;for(l=Object(l);$--;){var oe=b[$];if(re&&oe[2]?oe[1]!==l[oe[0]]:!(oe[0]in l))return!1}for(;++$<U;){oe=b[$];var he=oe[0],ve=l[he],ke=oe[1];if(re&&oe[2]){if(ve===void 0&&!(he in l))return!1}else{var Be=new dt;if(N)var ye=N(ve,ke,he,l,d,Be);if(!(ye===void 0?Or(ke,ve,N,s|o,Be):ye))return!1}}return!0}function ea(l){if(!$t(l)||ha(l))return!1;var d=Dr(l)||j(l)?ee:Pn;return d.test(Mt(l))}function ta(l){return Xn(l)&&xr(l.length)&&!!se[H.call(l)]}function na(l){return typeof l=="function"?l:l==null?ba:typeof l=="object"?ht(l)?sa(l[0],l[1]):ia(l):wa(l)}function ra(l){if(!ga(l))return vs(l);var d=[];for(var b in Object(l))I.call(l,b)&&b!="constructor"&&d.push(b);return d}function ia(l){var d=fa(l);return d.length==1&&d[0][2]?ui(d[0][0],d[0][1]):function(b){return b===l||Qs(b,l,d)}}function sa(l,d){return Yn(l)&&li(d)?ui($n(l),d):function(b){var N=ya(b,l);return N===void 0&&N===d?Ea(b,l):Or(d,N,void 0,s|o)}}function aa(l){return function(d){return ii(d,l)}}function oa(l){if(typeof l=="string")return l;if(Lr(l))return ri?ri.call(l):"";var d=l+"";return d=="0"&&1/l==-c?"-0":d}function si(l){return ht(l)?l:ma(l)}function la(l){return function(d,b,N){for(var $=-1,U=Object(d),re=N(d),oe=re.length;oe--;){var he=re[l?oe:++$];if(b(U[he],he,U)===!1)break}return d}}function ai(l,d,b,N,$,U){var re=$&o,oe=l.length,he=d.length;if(oe!=he&&!(re&&he>oe))return!1;var ve=U.get(l);if(ve&&U.get(d))return ve==d;var ke=-1,Be=!0,ye=$&s?new qn:void 0;for(U.set(l,d),U.set(d,l);++ke<oe;){var qe=l[ke],Ke=d[ke];if(N)var Tt=re?N(Ke,qe,ke,d,l,U):N(qe,Ke,ke,l,d,U);if(Tt!==void 0){if(Tt)continue;Be=!1;break}if(ye){if(!Tr(d,function(gt,Ut){if(!ye.has(Ut)&&(qe===gt||b(qe,gt,N,$,U)))return ye.add(Ut)})){Be=!1;break}}else if(!(qe===Ke||b(qe,Ke,N,$,U))){Be=!1;break}}return U.delete(l),U.delete(d),Be}function ua(l,d,b,N,$,U,re){switch(b){case je:if(l.byteLength!=d.byteLength||l.byteOffset!=d.byteOffset)return!1;l=l.buffer,d=d.buffer;case $e:return!(l.byteLength!=d.byteLength||!N(new ne(l),new ne(d)));case m:case w:case ce:return ci(+l,+d);case x:return l.name==d.name&&l.message==d.message;case me:case Ue:return l==d+"";case R:var oe=ct;case de:var he=U&o;if(oe||(oe=u),l.size!=d.size&&!he)return!1;var ve=re.get(l);if(ve)return ve==d;U|=s,re.set(l,d);var ke=ai(oe(l),oe(d),N,$,U,re);return re.delete(l),ke;case Ae:if(Nr)return Nr.call(l)==Nr.call(d)}return!1}function ca(l,d,b,N,$,U){var re=$&o,oe=zn(l),he=oe.length,ve=zn(d),ke=ve.length;if(he!=ke&&!re)return!1;for(var Be=he;Be--;){var ye=oe[Be];if(!(re?ye in d:I.call(d,ye)))return!1}var qe=U.get(l);if(qe&&U.get(d))return qe==d;var Ke=!0;U.set(l,d),U.set(d,l);for(var Tt=re;++Be<he;){ye=oe[Be];var gt=l[ye],Ut=d[ye];if(N)var hi=re?N(Ut,gt,ye,d,l,U):N(gt,Ut,ye,l,d,U);if(!(hi===void 0?gt===Ut||b(gt,Ut,N,$,U):hi)){Ke=!1;break}Tt||(Tt=ye=="constructor")}if(Ke&&!Tt){var Wn=l.constructor,Jn=d.constructor;Wn!=Jn&&"constructor"in l&&"constructor"in d&&!(typeof Wn=="function"&&Wn instanceof Wn&&typeof Jn=="function"&&Jn instanceof Jn)&&(Ke=!1)}return U.delete(l),U.delete(d),Ke}function Fn(l,d){var b=l.__data__;return da(d)?b[typeof d=="string"?"string":"hash"]:b.map}function fa(l){for(var d=zn(l),b=d.length;b--;){var N=d[b],$=l[N];d[b]=[N,$,li($)]}return d}function Yt(l,d){var b=br(l,d);return ea(b)?b:void 0}var Et=Ws;(wr&&Et(new wr(new ArrayBuffer(1)))!=je||un&&Et(new un)!=R||Ar&&Et(Ar.resolve())!=Q||Sr&&Et(new Sr)!=de||Ir&&Et(new Ir)!=Ve)&&(Et=function(l){var d=H.call(l),b=d==J?l.constructor:void 0,N=b?Mt(b):void 0;if(N)switch(N){case ys:return je;case Es:return R;case Ts:return Q;case bs:return de;case ws:return Ve}return d});function pa(l,d,b){d=Yn(d,l)?[d]:si(d);for(var N,$=-1,re=d.length;++$<re;){var U=$n(d[$]);if(!(N=l!=null&&b(l,U)))break;l=l[U]}if(N)return N;var re=l?l.length:0;return!!re&&xr(re)&&oi(U,re)&&(ht(l)||fi(l))}function oi(l,d){return d=d??h,!!d&&(typeof l=="number"||sn.test(l))&&l>-1&&l%1==0&&l<d}function Yn(l,d){if(ht(l))return!1;var b=typeof l;return b=="number"||b=="symbol"||b=="boolean"||l==null||Lr(l)?!0:Ln.test(l)||!lt.test(l)||d!=null&&l in Object(d)}function da(l){var d=typeof l;return d=="string"||d=="number"||d=="symbol"||d=="boolean"?l!=="__proto__":l===null}function ha(l){return!!A&&A in l}function ga(l){var d=l&&l.constructor,b=typeof d=="function"&&d.prototype||T;return l===b}function li(l){return l===l&&!$t(l)}function ui(l,d){return function(b){return b==null?!1:b[l]===d&&(d!==void 0||l in Object(b))}}var ma=Rr(function(l){l=va(l);var d=[];return rn.test(l)&&d.push(""),l.replace(Xe,function(b,N,$,U){d.push($?U.replace(ut,"$1"):N||b)}),d});function $n(l){if(typeof l=="string"||Lr(l))return l;var d=l+"";return d=="0"&&1/l==-c?"-0":d}function Mt(l){if(l!=null){try{return S.call(l)}catch{}try{return l+""}catch{}}return""}function Rr(l,d){if(typeof l!="function"||d&&typeof d!="function")throw new TypeError(r);var b=function(){var N=arguments,$=d?d.apply(this,N):N[0],U=b.cache;if(U.has($))return U.get($);var re=l.apply(this,N);return b.cache=U.set($,re),re};return b.cache=new(Rr.Cache||pt),b}Rr.Cache=pt;function ci(l,d){return l===d||l!==l&&d!==d}function fi(l){return _a(l)&&I.call(l,"callee")&&(!on.call(l,"callee")||H.call(l)==p)}var ht=Array.isArray;function pi(l){return l!=null&&xr(l.length)&&!Dr(l)}function _a(l){return Xn(l)&&pi(l)}function Dr(l){var d=$t(l)?H.call(l):"";return d==K||d==B}function xr(l){return typeof l=="number"&&l>-1&&l%1==0&&l<=h}function $t(l){var d=typeof l;return!!l&&(d=="object"||d=="function")}function Xn(l){return!!l&&typeof l=="object"}function Lr(l){return typeof l=="symbol"||Xn(l)&&H.call(l)==Ae}var di=Zn?Hn(Zn):ta;function va(l){return l==null?"":oa(l)}function ya(l,d,b){var N=l==null?void 0:ii(l,d);return N===void 0?b:N}function Ea(l,d){return l!=null&&pa(l,d,Js)}function zn(l){return pi(l)?Ys(l):ra(l)}function Ta(l,d,b){var N=ht(l)||di(l);if(d=na(d),b==null)if(N||$t(l)){var $=l.constructor;N?b=ht(l)?new $:[]:b=Dr($)?$s(Pe(l)):{}}else b={};return(N?Gn:zs)(l,function(U,re,oe){return d(b,U,re,oe)}),b}function ba(l){return l}function wa(l){return Yn(l)?Pt($n(l)):aa(l)}e.exports=Ta})(dr,dr.exports);dr.exports;class Pu{constructor(){this.baseTime=80,this.time=80,this.fade=!1,this.await=!1,this.script="menu"}async update(){if(C.save(),C.globalAlpha=this.time/this.baseTime,C.fillStyle="#1b1b1f",C.fillRect(0,0,Ze.width,Ze.height),C.restore(),!this.await){if(this.fade&&this.time==this.baseTime){this.await=!0;const t=await ku.get(this.script)();for(const n of[...We.keys()])n!="blackscreen"&&We.delete(n);t.execute(),Ze.onmousedown=t.onMouseDown,this.fade=!1,this.await=!1;return}this.fade&&(this.time+=1),!this.fade&&this.time>0&&(this.time-=1)}}}class Vu{constructor(t,n,r,i,s="top-left"){const o=C.measureText(i).width+40,c=60+r;this.x=s=="top-left"||s=="bottom-left"?t:s=="top-right"||s=="bottom-right"?t+o:t-o/2,this.y=s=="top-left"||s=="top-right"?n:s=="bottom-left"||s=="bottom-right"?n+c:n-c/2,this.stroke=r,this.text=i,this.width=o,this.height=c}update(){C.fillStyle="white",C.beginPath(),C.roundRect(this.x,this.y,this.width,this.height,[this.height/2/2]),C.fill(),C.fillStyle="black",C.beginPath(),C.roundRect(this.x+this.stroke/2,this.y+this.stroke/2,this.width-this.stroke,this.height-this.stroke,[(this.height-this.stroke)/2/2]),C.fill(),C.save(),C.beginPath(),C.roundRect(this.x+this.stroke/2,this.y+this.stroke/2,this.width-this.stroke,this.height-this.stroke,[(this.height-this.stroke)/2/2]),C.clip(),C.fillStyle="white",C.textBaseline="middle",C.textAlign="center",C.fillText(this.text,this.x+this.width/2,this.y+this.height/2),C.restore()}}class Hu{constructor(t){this.id=t,this.isBackground=!1,document.getElementById(t)&&(this.isBackground=!0)}update(){if(this.isBackground)return C.drawImage(document.getElementById(this.id),0,0,Ze.width,Ze.height);C.fillStyle=this.id,C.fillRect(0,0,Ze.width,Ze.height)}}class ju{constructor(t,n,r,i="white",s=50,o="left",c="top"){this.x=t,this.y=n,this.text=r,this.size=s,this.color=i,this.align=o,this.baseline=c}update(){C.save(),C.font=`${this.size}px Itim`,C.fillStyle=this.color,C.textAlign=this.align,C.textBaseline=this.baseline,C.fillText(this.text,this.x,this.y),C.restore()}}const ku=new Map(Object.entries(Object.assign({"./src/fish.js":()=>fn(()=>import("./fish-E2FxKOZK.js"),__vite__mapDeps([])),"./src/menu.js":()=>fn(()=>import("./menu-2wzFv3oV.js"),__vite__mapDeps([])),"./src/merchant.js":()=>fn(()=>import("./merchant-UDuQKSaI.js"),__vite__mapDeps([])),"./src/pengsweep.js":()=>fn(()=>import("./pengsweep-cy5tyENV.js"),__vite__mapDeps([])),"./src/pet.js":()=>fn(()=>Promise.resolve().then(()=>Gu),void 0)})).map(([e,t])=>[e.split("/").at(-1).split(".")[0],t])),Si=new Map;let We=new Map,Mu=new Number;const Ze=document.getElementById("canvas"),C=Ze.getContext("2d");Ze.width=1920;Ze.height=1080;Ze.oncontextmenu=e=>e.preventDefault();C.font="50px Itim";We.set("blackscreen",new Pu);ni("fish");ni("merchant/diana");ni("merchant/background");_s();let Yr;const Br=new Ru("746241196438978662");Uu().then(Bu);async function Uu(){await Br.ready();const{code:e}=await Br.commands.authorize({client_id:"746241196438978662",response_type:"code",state:"",prompt:"none",scope:["identify"]}),t=await fetch("/api/token",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({code:e})}),{access_token:n}=await t.json();if(Yr=await Br.commands.authenticate({access_token:n}),!Yr)throw new Error("Authenticate command failed")}async function Bu(){const e=await fetch("/getUserData",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(Yr.user)}),{data:t,user:n}=await e.json();Si.set("data",t),Si.set("user",n),document.getElementById("img").insertAdjacentHTML("beforeend",`<img id="avatar" src="${n.avatar}" style="visibility: hidden;">`),Zu("menu")}function _s(){requestAnimationFrame(_s),C.clearRect(0,0,Ze.width,Ze.height);for(const e of[...We.keys()])if(e!="blackscreen"&&We.has(e)){if(We.get(e)instanceof Map){for(const t of[...We.get(e).values()])t.update();continue}We.get(e).update()}We.get("blackscreen").update(),Mu++}function Zu(e){Ze.onmousedown=()=>{},We.get("blackscreen").fade=!0,We.get("blackscreen").script=e}function ni(e){let t;switch(e){case"merchant/background":t=Object.assign({"./assets/merchant/background/day.png":Ia,"./assets/merchant/background/gui.png":Na});break;case"merchant/diana":t=Object.assign({"./assets/merchant/diana/normal.png":Oa,"./assets/merchant/diana/talking.png":Ra});break;case"merchant/nancy":t=Object.assign({"./assets/merchant/nancy/normal.png":Da,"./assets/merchant/nancy/talking.png":xa});break;case"fish":t=Object.assign({"./assets/fish/fish.png":La,"./assets/fish/fishing.png":Pa,"./assets/fish/penguin.png":ka,"./assets/fish/reeling.png":Ma});break}document.getElementById("img").insertAdjacentHTML("beforeend",Object.keys(t).map(n=>`<img id=${n.split("/").at(-1).split(".")[0]} src="${new URL(`${n}`,import.meta.url).href}" style="visibility: hidden;">`).join(""))}const Gu=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{Hu as B,ju as T,Vu as a,C as b,Ze as c,We as g,Si as m,Zu as s,Mu as t};
function __vite__mapDeps(indexes) {
  if (!__vite__mapDeps.viteFileDeps) {
    __vite__mapDeps.viteFileDeps = []
  }
  return indexes.map((i) => __vite__mapDeps.viteFileDeps[i])
}
